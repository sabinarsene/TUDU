{"ast":null,"code":"import { useMotionValueEvent } from '../utils/use-motion-value-event.mjs';\nimport { useMotionValue } from './use-motion-value.mjs';\nimport { frame } from '../frameloop/frame.mjs';\n\n/**\r\n * Creates a `MotionValue` that updates when the velocity of the provided `MotionValue` changes.\r\n *\r\n * ```javascript\r\n * const x = useMotionValue(0)\r\n * const xVelocity = useVelocity(x)\r\n * const xAcceleration = useVelocity(xVelocity)\r\n * ```\r\n *\r\n * @public\r\n */\nfunction useVelocity(value) {\n  const velocity = useMotionValue(value.getVelocity());\n  const updateVelocity = () => {\n    const latest = value.getVelocity();\n    velocity.set(latest);\n    /**\r\n     * If we still have velocity, schedule an update for the next frame\r\n     * to keep checking until it is zero.\r\n     */\n    if (latest) frame.update(updateVelocity);\n  };\n  useMotionValueEvent(value, \"change\", () => {\n    // Schedule an update to this value at the end of the current frame.\n    frame.update(updateVelocity, false, true);\n  });\n  return velocity;\n}\nexport { useVelocity };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}