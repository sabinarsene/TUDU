{"ast":null,"code":"'use client';\n\nimport { useEventListener } from './use-event-listener.mjs';\nfunction isRefObject(val) {\n  return \"current\" in val;\n}\nconst isDom = () => typeof window !== \"undefined\";\nfunction getPlatform() {\n  const agent = navigator.userAgentData;\n  return agent?.platform ?? navigator.platform;\n}\nconst vn = v => isDom() && v.test(navigator.vendor);\nconst pt = v => isDom() && v.test(getPlatform());\nconst isApple = () => pt(/mac|iphone|ipad|ipod/i);\nconst isSafari = () => isApple() && vn(/apple/i);\nfunction useFocusOnPointerDown(props) {\n  const {\n    ref,\n    elements,\n    enabled\n  } = props;\n  const doc = () => ref.current?.ownerDocument ?? document;\n  useEventListener(doc, \"pointerdown\", event => {\n    if (!isSafari() || !enabled) return;\n    const target = event.composedPath?.()?.[0] ?? event.target;\n    const els = elements ?? [ref];\n    const isValidTarget = els.some(elementOrRef => {\n      const el = isRefObject(elementOrRef) ? elementOrRef.current : elementOrRef;\n      return el?.contains(target) || el === target;\n    });\n    if (doc().activeElement !== target && isValidTarget) {\n      event.preventDefault();\n      target.focus();\n    }\n  });\n}\nexport { useFocusOnPointerDown };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}