{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\sabin.arsene\\\\Desktop\\\\TUDU-app\\\\TUDU\\\\frontend\\\\src\\\\pages\\\\PostServicePage.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { ChevronLeft, Upload, X, Info } from \"lucide-react\";\nimport \"./PostServicePage.css\";\nimport { createService } from \"../services/serviceApi\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CATEGORIES = [\"Instalații\", \"Curățenie\", \"Mobilă\", \"Educație\", \"Transport\", \"Electrocasnice\", \"Grădinărit\", \"IT & Tech\", \"Design\", \"Construcții\", \"Sănătate\", \"Meditații\", \"Frumusețe\", \"Animale\", \"Auto\", \"Evenimente\"];\nconst PostServicePage = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    user\n  } = useAuth();\n\n  // Verificăm dacă utilizatorul este autentificat\n  if (!user) {\n    navigate(\"/login\");\n  }\n  const [formData, setFormData] = useState({\n    title: \"\",\n    category: \"\",\n    price: \"\",\n    currency: \"RON\",\n    location: \"\",\n    description: \"\"\n  });\n  const [errors, setErrors] = useState({});\n  const [previewImages, setPreviewImages] = useState([]);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n\n    // Clear error when field is edited\n    if (errors[name]) {\n      setErrors({\n        ...errors,\n        [name]: null\n      });\n    }\n  };\n  const handleImageChange = e => {\n    const files = Array.from(e.target.files);\n    if (files.length + previewImages.length > 5) {\n      setErrors({\n        ...errors,\n        images: \"Poți încărca maximum 5 imagini\"\n      });\n      return;\n    }\n    const newPreviewImages = [...previewImages];\n    files.forEach(file => {\n      const reader = new FileReader();\n      reader.onload = e => {\n        newPreviewImages.push({\n          file,\n          preview: e.target.result\n        });\n        setPreviewImages([...newPreviewImages]);\n      };\n      reader.readAsDataURL(file);\n    });\n    setFormData({\n      ...formData,\n      images: [...(formData.images || []), ...files]\n    });\n\n    // Clear error when images are added\n    if (errors.images) {\n      setErrors({\n        ...errors,\n        images: null\n      });\n    }\n  };\n  const removeImage = index => {\n    const newPreviewImages = [...previewImages];\n    newPreviewImages.splice(index, 1);\n    setPreviewImages(newPreviewImages);\n\n    // Also remove from formData\n    const newImages = [...(formData.images || [])];\n    newImages.splice(index, 1);\n    setFormData({\n      ...formData,\n      images: newImages\n    });\n  };\n  const validateForm = () => {\n    const newErrors = {};\n    if (!formData.title.trim()) {\n      newErrors.title = \"Titlul este obligatoriu\";\n    } else if (formData.title.length < 5) {\n      newErrors.title = \"Titlul trebuie să aibă cel puțin 5 caractere\";\n    }\n    if (!formData.category) {\n      newErrors.category = \"Categoria este obligatorie\";\n    }\n    if (!formData.price) {\n      newErrors.price = \"Prețul este obligatoriu\";\n    } else if (isNaN(formData.price) || Number(formData.price) <= 0) {\n      newErrors.price = \"Prețul trebuie să fie un număr pozitiv\";\n    }\n    if (!formData.location.trim()) {\n      newErrors.location = \"Locația este obligatorie\";\n    }\n    if (!formData.description.trim()) {\n      newErrors.description = \"Descrierea este obligatorie\";\n    } else if (formData.description.length < 20) {\n      newErrors.description = \"Descrierea trebuie să aibă cel puțin 20 de caractere\";\n    }\n    if (!previewImages.length) {\n      newErrors.images = \"Trebuie să încarci cel puțin o imagine\";\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!validateForm()) {\n      const firstError = document.querySelector(\".error-message\");\n      if (firstError) {\n        firstError.scrollIntoView({\n          behavior: \"smooth\",\n          block: \"center\"\n        });\n      }\n      return;\n    }\n    setIsSubmitting(true);\n    setErrors({\n      ...errors,\n      submit: null\n    });\n    try {\n      var _formData$images;\n      const token = localStorage.getItem('token');\n      if (!token) {\n        throw new Error('Nu ești autentificat');\n      }\n      const serviceFormData = new FormData();\n      serviceFormData.append('title', formData.title.trim());\n      serviceFormData.append('category', formData.category);\n      serviceFormData.append('price', formData.price);\n      serviceFormData.append('currency', formData.currency);\n      serviceFormData.append('location', formData.location.trim());\n      serviceFormData.append('description', formData.description.trim());\n\n      // Append all images\n      if (formData.images && formData.images.length > 0) {\n        formData.images.forEach((image, index) => {\n          serviceFormData.append('images', image);\n        });\n        console.log(\"Appending images:\", formData.images.length);\n      } else {\n        console.log(\"No images to append\");\n      }\n      console.log(\"Submitting service with data:\", {\n        title: formData.title,\n        category: formData.category,\n        price: formData.price,\n        location: formData.location,\n        imagesCount: ((_formData$images = formData.images) === null || _formData$images === void 0 ? void 0 : _formData$images.length) || 0\n      });\n      try {\n        const response = await createService(serviceFormData);\n        console.log(\"Service created successfully:\", response);\n        navigate(\"/success?type=service\");\n      } catch (apiError) {\n        console.error(\"API error posting service:\", apiError);\n        let errorMessage = 'A apărut o eroare la crearea serviciului. Te rugăm să încerci din nou.';\n        if (apiError.message) {\n          if (apiError.message.includes('image')) {\n            setErrors({\n              ...errors,\n              images: \"Eroare la încărcarea imaginii. Te rugăm să încerci din nou.\",\n              submit: `Eroare: ${apiError.message}`\n            });\n          } else {\n            errorMessage = apiError.message;\n          }\n        }\n        setErrors({\n          ...errors,\n          submit: `Eroare: ${errorMessage}`\n        });\n        window.scrollTo({\n          top: 0,\n          behavior: 'smooth'\n        });\n      }\n    } catch (error) {\n      console.error(\"Error posting service:\", error);\n      setErrors({\n        ...errors,\n        submit: `Eroare: ${error.message || \"A apărut o eroare neașteptată. Te rugăm să încerci din nou.\"}`\n      });\n      window.scrollTo({\n        top: 0,\n        behavior: 'smooth'\n      });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"post-service-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"page-header\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        className: \"back-button\",\n        children: /*#__PURE__*/_jsxDEV(ChevronLeft, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Adaug\\u0103 un serviciu nou\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"service-form\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"title\",\n            children: \"Titlul serviciului *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"title\",\n            name: \"title\",\n            value: formData.title,\n            onChange: handleChange,\n            placeholder: \"Ex: Repara\\u021Bii instala\\u021Bii sanitare\",\n            className: errors.title ? \"error\" : \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this), errors.title && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-message\",\n            children: errors.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 30\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"category\",\n            children: \"Categoria *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"category\",\n            name: \"category\",\n            value: formData.category,\n            onChange: handleChange,\n            className: errors.category ? \"error\" : \"\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Selecteaz\\u0103 o categorie\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 15\n            }, this), CATEGORIES.map(category => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: category,\n              children: category\n            }, category, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this), errors.category && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-message\",\n            children: errors.category\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"price\",\n              children: \"Pre\\u021B (RON) *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              id: \"price\",\n              name: \"price\",\n              value: formData.price,\n              onChange: handleChange,\n              placeholder: \"Ex: 150\",\n              min: \"0\",\n              step: \"1\",\n              className: errors.price ? \"error\" : \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 15\n            }, this), errors.price && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"error-message\",\n              children: errors.price\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 32\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"location\",\n              children: \"Loca\\u021Bie *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"location\",\n              name: \"location\",\n              value: formData.location,\n              onChange: handleChange,\n              placeholder: \"Ex: Bucure\\u0219ti, Sector 1\",\n              className: errors.location ? \"error\" : \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 15\n            }, this), errors.location && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"error-message\",\n              children: errors.location\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 35\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"description\",\n            children: \"Descriere *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            id: \"description\",\n            name: \"description\",\n            value: formData.description,\n            onChange: handleChange,\n            placeholder: \"Descrie serviciul t\\u0103u \\xEEn detaliu. Include informa\\u021Bii despre experien\\u021Ba ta, ce ofer\\u0103 serviciul, durata, etc.\",\n            rows: \"6\",\n            className: errors.description ? \"error\" : \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this), errors.description && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-message\",\n            children: errors.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 36\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Imagini *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"image-upload-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"image-upload-area\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                id: \"images\",\n                name: \"images\",\n                onChange: handleImageChange,\n                accept: \"image/*\",\n                multiple: true,\n                className: \"image-input\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"upload-placeholder\",\n                children: [/*#__PURE__*/_jsxDEV(Upload, {\n                  size: 32\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Trage imaginile aici sau click pentru a \\xEEnc\\u0103rca\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Po\\u021Bi \\xEEnc\\u0103rca p\\xE2n\\u0103 la 5 imagini (JPG, PNG)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 15\n            }, this), errors.images && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"error-message\",\n              children: errors.images\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 33\n            }, this), previewImages.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"image-previews\",\n              children: previewImages.map((image, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"image-preview\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: image.preview || \"/placeholder.svg\",\n                  alt: `Preview ${index + 1}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 365,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"remove-image\",\n                  onClick: () => removeImage(index),\n                  children: /*#__PURE__*/_jsxDEV(X, {\n                    size: 16\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 367,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 23\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-notice\",\n          children: [/*#__PURE__*/_jsxDEV(Info, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Prin postarea acestui serviciu, confirmi c\\u0103 respect\\u0103\", /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/terms\",\n              className: \"notice-link\",\n              children: [\" \", \"Termenii \\u0219i Condi\\u021Biile\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 15\n            }, this), \" \", \"platformei.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 11\n        }, this), errors.submit && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error-message submit-error\",\n          children: errors.submit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-actions\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/\",\n            className: \"cancel-button\",\n            children: \"Anuleaz\\u0103\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"submit-button\",\n            disabled: isSubmitting,\n            children: isSubmitting ? \"Se postează...\" : \"Publică serviciul\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 248,\n    columnNumber: 5\n  }, this);\n};\n_s(PostServicePage, \"dG6EeoIa0K3uCL2B4UftTtPulsY=\", false, function () {\n  return [useNavigate, useAuth];\n});\n_c = PostServicePage;\nexport default PostServicePage;\nvar _c;\n$RefreshReg$(_c, \"PostServicePage\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useState","Link","useNavigate","ChevronLeft","Upload","X","Info","createService","useAuth","jsxDEV","_jsxDEV","CATEGORIES","PostServicePage","navigate","user","formData","setFormData","title","category","price","currency","location","description","errors","setErrors","previewImages","setPreviewImages","isSubmitting","setIsSubmitting","handleChange","e","name","value","target","handleImageChange","files","Array","from","length","images","newPreviewImages","forEach","file","reader","FileReader","onload","push","preview","result","readAsDataURL","removeImage","index","splice","newImages","validateForm","newErrors","trim","isNaN","Number","Object","keys","handleSubmit","preventDefault","firstError","document","querySelector","scrollIntoView","behavior","block","submit","_formData$images","token","localStorage","getItem","Error","serviceFormData","FormData","append","image","console","log","imagesCount","response","apiError","error","errorMessage","message","includes","window","scrollTo","top","className","children","to","size","fileName","lineNumber","columnNumber","onSubmit","htmlFor","type","id","onChange","placeholder","map","min","step","rows","accept","multiple","src","alt","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/sabin.arsene/Desktop/TUDU-app/TUDU/frontend/src/pages/PostServicePage.jsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Link, useNavigate } from \"react-router-dom\"\r\nimport { ChevronLeft, Upload, X, Info } from \"lucide-react\"\r\nimport \"./PostServicePage.css\"\r\nimport { createService } from \"../services/serviceApi\"\r\nimport { useAuth } from \"../contexts/AuthContext\"\r\n\r\nconst CATEGORIES = [\r\n  \"Instalații\",\r\n  \"Curățenie\",\r\n  \"Mobilă\",\r\n  \"Educație\",\r\n  \"Transport\",\r\n  \"Electrocasnice\",\r\n  \"Grădinărit\",\r\n  \"IT & Tech\",\r\n  \"Design\",\r\n  \"Construcții\",\r\n  \"Sănătate\",\r\n  \"Meditații\",\r\n  \"Frumusețe\",\r\n  \"Animale\",\r\n  \"Auto\",\r\n  \"Evenimente\",\r\n]\r\n\r\nconst PostServicePage = () => {\r\n  const navigate = useNavigate()\r\n  const { user } = useAuth()\r\n\r\n  // Verificăm dacă utilizatorul este autentificat\r\n  if (!user) {\r\n    navigate(\"/login\")\r\n  }\r\n\r\n  const [formData, setFormData] = useState({\r\n    title: \"\",\r\n    category: \"\",\r\n    price: \"\",\r\n    currency: \"RON\",\r\n    location: \"\",\r\n    description: \"\",\r\n  })\r\n\r\n  const [errors, setErrors] = useState({})\r\n  const [previewImages, setPreviewImages] = useState([])\r\n  const [isSubmitting, setIsSubmitting] = useState(false)\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target\r\n\r\n    setFormData({\r\n      ...formData,\r\n      [name]: value,\r\n    })\r\n\r\n    // Clear error when field is edited\r\n    if (errors[name]) {\r\n      setErrors({\r\n        ...errors,\r\n        [name]: null,\r\n      })\r\n    }\r\n  }\r\n\r\n  const handleImageChange = (e) => {\r\n    const files = Array.from(e.target.files)\r\n\r\n    if (files.length + previewImages.length > 5) {\r\n      setErrors({\r\n        ...errors,\r\n        images: \"Poți încărca maximum 5 imagini\",\r\n      })\r\n      return\r\n    }\r\n\r\n    const newPreviewImages = [...previewImages]\r\n\r\n    files.forEach((file) => {\r\n      const reader = new FileReader()\r\n      reader.onload = (e) => {\r\n        newPreviewImages.push({\r\n          file,\r\n          preview: e.target.result,\r\n        })\r\n        setPreviewImages([...newPreviewImages])\r\n      }\r\n      reader.readAsDataURL(file)\r\n    })\r\n\r\n    setFormData({\r\n      ...formData,\r\n      images: [...(formData.images || []), ...files],\r\n    })\r\n\r\n    // Clear error when images are added\r\n    if (errors.images) {\r\n      setErrors({\r\n        ...errors,\r\n        images: null,\r\n      })\r\n    }\r\n  }\r\n\r\n  const removeImage = (index) => {\r\n    const newPreviewImages = [...previewImages]\r\n    newPreviewImages.splice(index, 1)\r\n    setPreviewImages(newPreviewImages)\r\n\r\n    // Also remove from formData\r\n    const newImages = [...(formData.images || [])]\r\n    newImages.splice(index, 1)\r\n    setFormData({\r\n      ...formData,\r\n      images: newImages,\r\n    })\r\n  }\r\n\r\n  const validateForm = () => {\r\n    const newErrors = {}\r\n\r\n    if (!formData.title.trim()) {\r\n      newErrors.title = \"Titlul este obligatoriu\"\r\n    } else if (formData.title.length < 5) {\r\n      newErrors.title = \"Titlul trebuie să aibă cel puțin 5 caractere\"\r\n    }\r\n\r\n    if (!formData.category) {\r\n      newErrors.category = \"Categoria este obligatorie\"\r\n    }\r\n\r\n    if (!formData.price) {\r\n      newErrors.price = \"Prețul este obligatoriu\"\r\n    } else if (isNaN(formData.price) || Number(formData.price) <= 0) {\r\n      newErrors.price = \"Prețul trebuie să fie un număr pozitiv\"\r\n    }\r\n\r\n    if (!formData.location.trim()) {\r\n      newErrors.location = \"Locația este obligatorie\"\r\n    }\r\n\r\n    if (!formData.description.trim()) {\r\n      newErrors.description = \"Descrierea este obligatorie\"\r\n    } else if (formData.description.length < 20) {\r\n      newErrors.description = \"Descrierea trebuie să aibă cel puțin 20 de caractere\"\r\n    }\r\n\r\n    if (!previewImages.length) {\r\n      newErrors.images = \"Trebuie să încarci cel puțin o imagine\"\r\n    }\r\n\r\n    setErrors(newErrors)\r\n    return Object.keys(newErrors).length === 0\r\n  }\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!validateForm()) {\r\n      const firstError = document.querySelector(\".error-message\");\r\n      if (firstError) {\r\n        firstError.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\r\n      }\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    setErrors({ ...errors, submit: null });\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        throw new Error('Nu ești autentificat');\r\n      }\r\n\r\n      const serviceFormData = new FormData();\r\n      serviceFormData.append('title', formData.title.trim());\r\n      serviceFormData.append('category', formData.category);\r\n      serviceFormData.append('price', formData.price);\r\n      serviceFormData.append('currency', formData.currency);\r\n      serviceFormData.append('location', formData.location.trim());\r\n      serviceFormData.append('description', formData.description.trim());\r\n      \r\n      // Append all images\r\n      if (formData.images && formData.images.length > 0) {\r\n        formData.images.forEach((image, index) => {\r\n          serviceFormData.append('images', image);\r\n        });\r\n        console.log(\"Appending images:\", formData.images.length);\r\n      } else {\r\n        console.log(\"No images to append\");\r\n      }\r\n\r\n      console.log(\"Submitting service with data:\", {\r\n        title: formData.title,\r\n        category: formData.category,\r\n        price: formData.price,\r\n        location: formData.location,\r\n        imagesCount: formData.images?.length || 0\r\n      });\r\n\r\n      try {\r\n        const response = await createService(serviceFormData);\r\n        console.log(\"Service created successfully:\", response);\r\n        navigate(\"/success?type=service\");\r\n      } catch (apiError) {\r\n        console.error(\"API error posting service:\", apiError);\r\n        \r\n        let errorMessage = 'A apărut o eroare la crearea serviciului. Te rugăm să încerci din nou.';\r\n        \r\n        if (apiError.message) {\r\n          if (apiError.message.includes('image')) {\r\n            setErrors({\r\n              ...errors,\r\n              images: \"Eroare la încărcarea imaginii. Te rugăm să încerci din nou.\",\r\n              submit: `Eroare: ${apiError.message}`\r\n            });\r\n          } else {\r\n            errorMessage = apiError.message;\r\n          }\r\n        }\r\n        \r\n        setErrors({\r\n          ...errors,\r\n          submit: `Eroare: ${errorMessage}`\r\n        });\r\n        \r\n        window.scrollTo({ top: 0, behavior: 'smooth' });\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error posting service:\", error);\r\n      \r\n      setErrors({\r\n        ...errors,\r\n        submit: `Eroare: ${error.message || \"A apărut o eroare neașteptată. Te rugăm să încerci din nou.\"}`\r\n      });\r\n      \r\n      window.scrollTo({ top: 0, behavior: 'smooth' });\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"post-service-page\">\r\n      <header className=\"page-header\">\r\n        <Link to=\"/\" className=\"back-button\">\r\n          <ChevronLeft size={24} />\r\n        </Link>\r\n        <h1>Adaugă un serviciu nou</h1>\r\n      </header>\r\n\r\n      <form className=\"service-form\" onSubmit={handleSubmit}>\r\n        <div className=\"form-section\">\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"title\">Titlul serviciului *</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"title\"\r\n              name=\"title\"\r\n              value={formData.title}\r\n              onChange={handleChange}\r\n              placeholder=\"Ex: Reparații instalații sanitare\"\r\n              className={errors.title ? \"error\" : \"\"}\r\n            />\r\n            {errors.title && <div className=\"error-message\">{errors.title}</div>}\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"category\">Categoria *</label>\r\n            <select\r\n              id=\"category\"\r\n              name=\"category\"\r\n              value={formData.category}\r\n              onChange={handleChange}\r\n              className={errors.category ? \"error\" : \"\"}\r\n            >\r\n              <option value=\"\">Selectează o categorie</option>\r\n              {CATEGORIES.map((category) => (\r\n                <option key={category} value={category}>\r\n                  {category}\r\n                </option>\r\n              ))}\r\n            </select>\r\n            {errors.category && <div className=\"error-message\">{errors.category}</div>}\r\n          </div>\r\n\r\n          <div className=\"form-row\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"price\">Preț (RON) *</label>\r\n              <input\r\n                type=\"number\"\r\n                id=\"price\"\r\n                name=\"price\"\r\n                value={formData.price}\r\n                onChange={handleChange}\r\n                placeholder=\"Ex: 150\"\r\n                min=\"0\"\r\n                step=\"1\"\r\n                className={errors.price ? \"error\" : \"\"}\r\n              />\r\n              {errors.price && <div className=\"error-message\">{errors.price}</div>}\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"location\">Locație *</label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"location\"\r\n                name=\"location\"\r\n                value={formData.location}\r\n                onChange={handleChange}\r\n                placeholder=\"Ex: București, Sector 1\"\r\n                className={errors.location ? \"error\" : \"\"}\r\n              />\r\n              {errors.location && <div className=\"error-message\">{errors.location}</div>}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"description\">Descriere *</label>\r\n            <textarea\r\n              id=\"description\"\r\n              name=\"description\"\r\n              value={formData.description}\r\n              onChange={handleChange}\r\n              placeholder=\"Descrie serviciul tău în detaliu. Include informații despre experiența ta, ce oferă serviciul, durata, etc.\"\r\n              rows=\"6\"\r\n              className={errors.description ? \"error\" : \"\"}\r\n            ></textarea>\r\n            {errors.description && <div className=\"error-message\">{errors.description}</div>}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"form-section\">\r\n          <div className=\"form-group\">\r\n            <label>Imagini *</label>\r\n            <div className=\"image-upload-container\">\r\n              <div className=\"image-upload-area\">\r\n                <input\r\n                  type=\"file\"\r\n                  id=\"images\"\r\n                  name=\"images\"\r\n                  onChange={handleImageChange}\r\n                  accept=\"image/*\"\r\n                  multiple\r\n                  className=\"image-input\"\r\n                />\r\n                <div className=\"upload-placeholder\">\r\n                  <Upload size={32} />\r\n                  <p>Trage imaginile aici sau click pentru a încărca</p>\r\n                  <span>Poți încărca până la 5 imagini (JPG, PNG)</span>\r\n                </div>\r\n              </div>\r\n\r\n              {errors.images && <div className=\"error-message\">{errors.images}</div>}\r\n\r\n              {previewImages.length > 0 && (\r\n                <div className=\"image-previews\">\r\n                  {previewImages.map((image, index) => (\r\n                    <div key={index} className=\"image-preview\">\r\n                      <img src={image.preview || \"/placeholder.svg\"} alt={`Preview ${index + 1}`} />\r\n                      <button type=\"button\" className=\"remove-image\" onClick={() => removeImage(index)}>\r\n                        <X size={16} />\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"form-notice\">\r\n            <Info size={18} />\r\n            <p>\r\n              Prin postarea acestui serviciu, confirmi că respectă\r\n              <Link to=\"/terms\" className=\"notice-link\">\r\n                {\" \"}\r\n                Termenii și Condițiile\r\n              </Link>{\" \"}\r\n              platformei.\r\n            </p>\r\n          </div>\r\n\r\n          {errors.submit && <div className=\"error-message submit-error\">{errors.submit}</div>}\r\n\r\n          <div className=\"form-actions\">\r\n            <Link to=\"/\" className=\"cancel-button\">\r\n              Anulează\r\n            </Link>\r\n            <button type=\"submit\" className=\"submit-button\" disabled={isSubmitting}>\r\n              {isSubmitting ? \"Se postează...\" : \"Publică serviciul\"}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PostServicePage\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}