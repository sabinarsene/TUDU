{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\sabin.arsene\\\\Desktop\\\\TUDU-app\\\\TUDU\\\\frontend\\\\src\\\\pages\\\\PostRequestPage.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { ChevronLeft, Upload, X, Info } from \"lucide-react\";\nimport \"./PostRequestPage.css\";\nimport { createRequest } from \"../services/requestApi\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CATEGORIES = [\"Instalații\", \"Curățenie\", \"Mobilă\", \"Educație\", \"Transport\", \"Electrocasnice\", \"Grădinărit\", \"IT & Tech\", \"Design\", \"Construcții\", \"Sănătate\", \"Meditații\", \"Frumusețe\", \"Animale\", \"Auto\", \"Evenimente\"];\n\n// Define deadlines options for the dropdown\nconst deadlineOptions = [{\n  value: \"1_day\",\n  label: \"1 zi\"\n}, {\n  value: \"3_days\",\n  label: \"3 zile\"\n}, {\n  value: \"1_week\",\n  label: \"1 săptămână\"\n}, {\n  value: \"2_weeks\",\n  label: \"2 săptămâni\"\n}, {\n  value: \"1_month\",\n  label: \"1 lună\"\n}];\nconst PostRequestPage = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    user\n  } = useAuth();\n\n  // Verificăm dacă utilizatorul este autentificat\n  if (!user) {\n    navigate(\"/login\");\n  }\n  const [formData, setFormData] = useState({\n    title: \"\",\n    category: \"\",\n    budget: \"\",\n    currency: \"RON\",\n    location: \"\",\n    deadline: \"\",\n    description: \"\",\n    images: [],\n    contactPreference: \"orice\"\n  });\n  const [errors, setErrors] = useState({});\n  const [previewImages, setPreviewImages] = useState([]);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n\n    // Clear error when field is edited\n    if (errors[name]) {\n      setErrors({\n        ...errors,\n        [name]: null\n      });\n    }\n  };\n  const handleImageChange = e => {\n    const files = Array.from(e.target.files);\n    if (files.length + previewImages.length > 5) {\n      setErrors({\n        ...errors,\n        images: \"Poți încărca maximum 5 imagini\"\n      });\n      return;\n    }\n    const newPreviewImages = [...previewImages];\n    files.forEach(file => {\n      const reader = new FileReader();\n      reader.onload = e => {\n        newPreviewImages.push({\n          file,\n          preview: e.target.result\n        });\n        setPreviewImages([...newPreviewImages]);\n      };\n      reader.readAsDataURL(file);\n    });\n    setFormData({\n      ...formData,\n      images: [...(formData.images || []), ...files]\n    });\n\n    // Clear error when images are added\n    if (errors.images) {\n      setErrors({\n        ...errors,\n        images: null\n      });\n    }\n  };\n  const removeImage = index => {\n    const newPreviewImages = [...previewImages];\n    newPreviewImages.splice(index, 1);\n    setPreviewImages(newPreviewImages);\n\n    // Also remove from formData\n    const newImages = [...(formData.images || [])];\n    newImages.splice(index, 1);\n    setFormData({\n      ...formData,\n      images: newImages\n    });\n  };\n  const validateForm = () => {\n    const newErrors = {};\n    if (!formData.title.trim()) {\n      newErrors.title = \"Titlul este obligatoriu\";\n    } else if (formData.title.length < 5) {\n      newErrors.title = \"Titlul trebuie să aibă cel puțin 5 caractere\";\n    }\n    if (!formData.category) {\n      newErrors.category = \"Categoria este obligatorie\";\n    }\n    if (!formData.budget) {\n      newErrors.budget = \"Bugetul este obligatoriu\";\n    } else if (isNaN(formData.budget) || Number(formData.budget) <= 0) {\n      newErrors.budget = \"Bugetul trebuie să fie un număr pozitiv\";\n    }\n    if (!formData.location.trim()) {\n      newErrors.location = \"Locația este obligatorie\";\n    }\n    if (!formData.deadline) {\n      newErrors.deadline = \"Termenul limită este obligatoriu\";\n    }\n    if (!formData.description.trim()) {\n      newErrors.description = \"Descrierea este obligatorie\";\n    } else if (formData.description.length < 20) {\n      newErrors.description = \"Descrierea trebuie să aibă cel puțin 20 de caractere\";\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!validateForm()) {\n      // Scroll to the first error\n      const firstError = document.querySelector(\".error-message\");\n      if (firstError) {\n        firstError.scrollIntoView({\n          behavior: \"smooth\",\n          block: \"center\"\n        });\n      }\n      return;\n    }\n    setIsSubmitting(true);\n    setErrors({\n      ...errors,\n      submit: null\n    });\n    try {\n      // Get token from localStorage\n      const token = localStorage.getItem('token');\n      if (!token) {\n        throw new Error('Nu ești autentificat');\n      }\n\n      // Create FormData object for the API call\n      const requestFormData = new FormData();\n      requestFormData.append('title', formData.title);\n      requestFormData.append('category', formData.category);\n      requestFormData.append('description', formData.description);\n      requestFormData.append('budget', formData.budget);\n      requestFormData.append('currency', formData.currency);\n      requestFormData.append('location', formData.location);\n\n      // Convert deadline string to actual date\n      let deadlineDate = null;\n      if (formData.deadline && formData.deadline !== \"\") {\n        const now = new Date();\n        deadlineDate = new Date(now);\n        switch (formData.deadline) {\n          case '1_day':\n            deadlineDate.setDate(now.getDate() + 1);\n            break;\n          case '3_days':\n            deadlineDate.setDate(now.getDate() + 3);\n            break;\n          case '1_week':\n            deadlineDate.setDate(now.getDate() + 7);\n            break;\n          case '2_weeks':\n            deadlineDate.setDate(now.getDate() + 14);\n            break;\n          case '1_month':\n            deadlineDate.setMonth(now.getMonth() + 1);\n            break;\n          default:\n            deadlineDate = null;\n        }\n        if (deadlineDate) {\n          requestFormData.append('deadline', deadlineDate.toISOString());\n        }\n      }\n      requestFormData.append('contactPreference', formData.contactPreference);\n\n      // Afișăm datele trimise pentru debugging\n      console.log(\"Sending request data:\");\n      console.log(\"title:\", formData.title);\n      console.log(\"category:\", formData.category);\n      console.log(\"description:\", formData.description);\n      console.log(\"budget:\", formData.budget);\n      console.log(\"currency:\", formData.currency);\n      console.log(\"location:\", formData.location);\n      console.log(\"deadline:\", deadlineDate ? deadlineDate.toISOString() : null);\n      console.log(\"contactPreference:\", formData.contactPreference);\n      try {\n        // Call the API to create the request\n        const response = await createRequest(requestFormData, token);\n        console.log(\"Request created:\", response);\n\n        // Redirect to success page\n        navigate(\"/success?type=request\");\n      } catch (apiError) {\n        console.error(\"API error posting request:\", apiError);\n\n        // Verificăm dacă eroarea este legată de un câmp specific\n        if (apiError.field) {\n          setErrors({\n            ...errors,\n            [apiError.field]: apiError.message,\n            submit: `Eroare: Verifică câmpul ${apiError.field}`\n          });\n\n          // Scroll to the specific field error\n          const fieldError = document.querySelector(`[name=\"${apiError.field}\"]`);\n          if (fieldError) {\n            fieldError.scrollIntoView({\n              behavior: \"smooth\",\n              block: \"center\"\n            });\n          }\n        } else {\n          setErrors({\n            ...errors,\n            submit: `Eroare: ${apiError.message || 'A apărut o eroare la crearea cererii. Te rugăm să încerci din nou.'}`\n          });\n\n          // Scroll to the top to show the error\n          window.scrollTo({\n            top: 0,\n            behavior: 'smooth'\n          });\n        }\n      }\n    } catch (error) {\n      console.error(\"Error posting request:\", error);\n\n      // Afișăm un mesaj de eroare mai specific dacă este disponibil\n      if (error.message) {\n        setErrors({\n          ...errors,\n          submit: `Eroare: ${error.message}`\n        });\n      } else {\n        setErrors({\n          ...errors,\n          submit: \"A apărut o eroare. Te rugăm să încerci din nou.\"\n        });\n      }\n\n      // Scroll to the top to show the error\n      window.scrollTo({\n        top: 0,\n        behavior: 'smooth'\n      });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"post-request-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"page-header\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/requests\",\n        className: \"back-button\",\n        children: /*#__PURE__*/_jsxDEV(ChevronLeft, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Adaug\\u0103 o cerere nou\\u0103\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"request-form\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"title\",\n            children: \"Titlul cererii *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"title\",\n            name: \"title\",\n            value: formData.title,\n            onChange: handleChange,\n            placeholder: \"Ex: Caut instalator pentru repara\\u021Bie urgent\\u0103\",\n            className: errors.title ? \"error\" : \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 13\n          }, this), errors.title && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-message\",\n            children: errors.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 30\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"category\",\n            children: \"Categoria *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"category\",\n            name: \"category\",\n            value: formData.category,\n            onChange: handleChange,\n            className: errors.category ? \"error\" : \"\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Selecteaz\\u0103 o categorie\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 15\n            }, this), CATEGORIES.map(category => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: category,\n              children: category\n            }, category, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 13\n          }, this), errors.category && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-message\",\n            children: errors.category\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"budget\",\n              children: \"Buget (RON) *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              id: \"budget\",\n              name: \"budget\",\n              value: formData.budget,\n              onChange: handleChange,\n              placeholder: \"Ex: 200\",\n              min: \"0\",\n              step: \"1\",\n              className: errors.budget ? \"error\" : \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 15\n            }, this), errors.budget && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"error-message\",\n              children: errors.budget\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"location\",\n              children: \"Loca\\u021Bie *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"location\",\n              name: \"location\",\n              value: formData.location,\n              onChange: handleChange,\n              placeholder: \"Ex: Bucure\\u0219ti, Sector 3\",\n              className: errors.location ? \"error\" : \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 15\n            }, this), errors.location && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"error-message\",\n              children: errors.location\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 35\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"deadline\",\n            children: \"Termen limit\\u0103\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"deadline\",\n            value: formData.deadline,\n            onChange: handleChange,\n            className: \"form-select\",\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Selecteaz\\u0103 termenul\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 15\n            }, this), deadlineOptions.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: option.value,\n              children: option.label\n            }, option.value, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"description\",\n            children: \"Descriere *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            id: \"description\",\n            name: \"description\",\n            value: formData.description,\n            onChange: handleChange,\n            placeholder: \"Descrie \\xEEn detaliu ce servicii cau\\u021Bi, ce a\\u0219tept\\u0103ri ai, etc.\",\n            rows: \"6\",\n            className: errors.description ? \"error\" : \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 13\n          }, this), errors.description && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"error-message\",\n            children: errors.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 36\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Imagini\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 414,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"image-upload-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"image-upload-area\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                id: \"images\",\n                name: \"images\",\n                onChange: handleImageChange,\n                accept: \"image/*\",\n                multiple: true,\n                className: \"image-input\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"upload-placeholder\",\n                children: [/*#__PURE__*/_jsxDEV(Upload, {\n                  size: 32\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 427,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Trage imaginile aici sau click pentru a \\xEEnc\\u0103rca\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Po\\u021Bi \\xEEnc\\u0103rca p\\xE2n\\u0103 la 5 imagini (JPG, PNG)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 429,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 15\n            }, this), errors.images && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"error-message\",\n              children: errors.images\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 33\n            }, this), previewImages.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"image-previews\",\n              children: previewImages.map((image, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"image-preview\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: image.preview || \"/placeholder.svg\",\n                  alt: `Preview ${index + 1}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 439,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"remove-image\",\n                  onClick: () => removeImage(index),\n                  children: /*#__PURE__*/_jsxDEV(X, {\n                    size: 16\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 441,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 440,\n                  columnNumber: 23\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Preferin\\u021B\\u0103 de contact\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"contact-options\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"contact-option\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"contactPreference\",\n                value: \"orice\",\n                checked: formData.contactPreference === \"orice\",\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 454,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Orice metod\\u0103\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 453,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"contact-option\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"contactPreference\",\n                value: \"mesaj\",\n                checked: formData.contactPreference === \"mesaj\",\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Doar mesaj\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"contact-option\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"contactPreference\",\n                value: \"telefon\",\n                checked: formData.contactPreference === \"telefon\",\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 474,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Doar telefon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 481,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-notice\",\n          children: [/*#__PURE__*/_jsxDEV(Info, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 487,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Prin postarea acestei cereri, confirmi c\\u0103 respect\\u0103\", /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/terms\",\n              className: \"notice-link\",\n              children: [\" \", \"Termenii \\u0219i Condi\\u021Biile\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 490,\n              columnNumber: 15\n            }, this), \" \", \"platformei.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 488,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 11\n        }, this), errors.submit && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error-message submit-error\",\n          children: errors.submit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-actions\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/requests\",\n            className: \"cancel-button\",\n            children: \"Anuleaz\\u0103\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"submit-button\",\n            disabled: isSubmitting,\n            children: isSubmitting ? \"Se postează...\" : \"Publică cererea\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 504,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 500,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 304,\n    columnNumber: 5\n  }, this);\n};\n_s(PostRequestPage, \"J+Q4tSaWNiy79ENWOnC/3xH5cVE=\", false, function () {\n  return [useNavigate, useAuth];\n});\n_c = PostRequestPage;\nexport default PostRequestPage;\nvar _c;\n$RefreshReg$(_c, \"PostRequestPage\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useState","Link","useNavigate","ChevronLeft","Upload","X","Info","createRequest","useAuth","jsxDEV","_jsxDEV","CATEGORIES","deadlineOptions","value","label","PostRequestPage","navigate","user","formData","setFormData","title","category","budget","currency","location","deadline","description","images","contactPreference","errors","setErrors","previewImages","setPreviewImages","isSubmitting","setIsSubmitting","handleChange","e","name","target","handleImageChange","files","Array","from","length","newPreviewImages","forEach","file","reader","FileReader","onload","push","preview","result","readAsDataURL","removeImage","index","splice","newImages","validateForm","newErrors","trim","isNaN","Number","Object","keys","handleSubmit","preventDefault","firstError","document","querySelector","scrollIntoView","behavior","block","submit","token","localStorage","getItem","Error","requestFormData","FormData","append","deadlineDate","now","Date","setDate","getDate","setMonth","getMonth","toISOString","console","log","response","apiError","error","field","message","fieldError","window","scrollTo","top","className","children","to","size","fileName","lineNumber","columnNumber","onSubmit","htmlFor","type","id","onChange","placeholder","map","min","step","required","option","rows","accept","multiple","image","src","alt","onClick","checked","disabled","_c","$RefreshReg$"],"sources":["C:/Users/sabin.arsene/Desktop/TUDU-app/TUDU/frontend/src/pages/PostRequestPage.jsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Link, useNavigate } from \"react-router-dom\"\r\nimport { ChevronLeft, Upload, X, Info } from \"lucide-react\"\r\nimport \"./PostRequestPage.css\"\r\nimport { createRequest } from \"../services/requestApi\"\r\nimport { useAuth } from \"../contexts/AuthContext\"\r\n\r\nconst CATEGORIES = [\r\n  \"Instalații\",\r\n  \"Curățenie\",\r\n  \"Mobilă\",\r\n  \"Educație\",\r\n  \"Transport\",\r\n  \"Electrocasnice\",\r\n  \"Grădinărit\",\r\n  \"IT & Tech\",\r\n  \"Design\",\r\n  \"Construcții\",\r\n  \"Sănătate\",\r\n  \"Meditații\",\r\n  \"Frumusețe\",\r\n  \"Animale\",\r\n  \"Auto\",\r\n  \"Evenimente\",\r\n]\r\n\r\n// Define deadlines options for the dropdown\r\nconst deadlineOptions = [\r\n  { value: \"1_day\", label: \"1 zi\" },\r\n  { value: \"3_days\", label: \"3 zile\" },\r\n  { value: \"1_week\", label: \"1 săptămână\" },\r\n  { value: \"2_weeks\", label: \"2 săptămâni\" },\r\n  { value: \"1_month\", label: \"1 lună\" },\r\n]\r\n\r\nconst PostRequestPage = () => {\r\n  const navigate = useNavigate()\r\n  const { user } = useAuth()\r\n\r\n  // Verificăm dacă utilizatorul este autentificat\r\n  if (!user) {\r\n    navigate(\"/login\")\r\n  }\r\n\r\n  const [formData, setFormData] = useState({\r\n    title: \"\",\r\n    category: \"\",\r\n    budget: \"\",\r\n    currency: \"RON\",\r\n    location: \"\",\r\n    deadline: \"\",\r\n    description: \"\",\r\n    images: [],\r\n    contactPreference: \"orice\",\r\n  })\r\n\r\n  const [errors, setErrors] = useState({})\r\n  const [previewImages, setPreviewImages] = useState([])\r\n  const [isSubmitting, setIsSubmitting] = useState(false)\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target\r\n\r\n    setFormData({\r\n      ...formData,\r\n      [name]: value,\r\n    })\r\n\r\n    // Clear error when field is edited\r\n    if (errors[name]) {\r\n      setErrors({\r\n        ...errors,\r\n        [name]: null,\r\n      })\r\n    }\r\n  }\r\n\r\n  const handleImageChange = (e) => {\r\n    const files = Array.from(e.target.files)\r\n\r\n    if (files.length + previewImages.length > 5) {\r\n      setErrors({\r\n        ...errors,\r\n        images: \"Poți încărca maximum 5 imagini\",\r\n      })\r\n      return\r\n    }\r\n\r\n    const newPreviewImages = [...previewImages]\r\n\r\n    files.forEach((file) => {\r\n      const reader = new FileReader()\r\n      reader.onload = (e) => {\r\n        newPreviewImages.push({\r\n          file,\r\n          preview: e.target.result,\r\n        })\r\n        setPreviewImages([...newPreviewImages])\r\n      }\r\n      reader.readAsDataURL(file)\r\n    })\r\n\r\n    setFormData({\r\n      ...formData,\r\n      images: [...(formData.images || []), ...files],\r\n    })\r\n\r\n    // Clear error when images are added\r\n    if (errors.images) {\r\n      setErrors({\r\n        ...errors,\r\n        images: null,\r\n      })\r\n    }\r\n  }\r\n\r\n  const removeImage = (index) => {\r\n    const newPreviewImages = [...previewImages]\r\n    newPreviewImages.splice(index, 1)\r\n    setPreviewImages(newPreviewImages)\r\n\r\n    // Also remove from formData\r\n    const newImages = [...(formData.images || [])]\r\n    newImages.splice(index, 1)\r\n    setFormData({\r\n      ...formData,\r\n      images: newImages,\r\n    })\r\n  }\r\n\r\n  const validateForm = () => {\r\n    const newErrors = {}\r\n\r\n    if (!formData.title.trim()) {\r\n      newErrors.title = \"Titlul este obligatoriu\"\r\n    } else if (formData.title.length < 5) {\r\n      newErrors.title = \"Titlul trebuie să aibă cel puțin 5 caractere\"\r\n    }\r\n\r\n    if (!formData.category) {\r\n      newErrors.category = \"Categoria este obligatorie\"\r\n    }\r\n\r\n    if (!formData.budget) {\r\n      newErrors.budget = \"Bugetul este obligatoriu\"\r\n    } else if (isNaN(formData.budget) || Number(formData.budget) <= 0) {\r\n      newErrors.budget = \"Bugetul trebuie să fie un număr pozitiv\"\r\n    }\r\n\r\n    if (!formData.location.trim()) {\r\n      newErrors.location = \"Locația este obligatorie\"\r\n    }\r\n\r\n    if (!formData.deadline) {\r\n      newErrors.deadline = \"Termenul limită este obligatoriu\"\r\n    }\r\n\r\n    if (!formData.description.trim()) {\r\n      newErrors.description = \"Descrierea este obligatorie\"\r\n    } else if (formData.description.length < 20) {\r\n      newErrors.description = \"Descrierea trebuie să aibă cel puțin 20 de caractere\"\r\n    }\r\n\r\n    setErrors(newErrors)\r\n    return Object.keys(newErrors).length === 0\r\n  }\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n\r\n    if (!validateForm()) {\r\n      // Scroll to the first error\r\n      const firstError = document.querySelector(\".error-message\")\r\n      if (firstError) {\r\n        firstError.scrollIntoView({ behavior: \"smooth\", block: \"center\" })\r\n      }\r\n      return\r\n    }\r\n\r\n    setIsSubmitting(true)\r\n    setErrors({ ...errors, submit: null })\r\n\r\n    try {\r\n      // Get token from localStorage\r\n      const token = localStorage.getItem('token')\r\n      \r\n      if (!token) {\r\n        throw new Error('Nu ești autentificat')\r\n      }\r\n\r\n      // Create FormData object for the API call\r\n      const requestFormData = new FormData()\r\n      requestFormData.append('title', formData.title)\r\n      requestFormData.append('category', formData.category)\r\n      requestFormData.append('description', formData.description)\r\n      requestFormData.append('budget', formData.budget)\r\n      requestFormData.append('currency', formData.currency)\r\n      requestFormData.append('location', formData.location)\r\n      \r\n      // Convert deadline string to actual date\r\n      let deadlineDate = null\r\n      if (formData.deadline && formData.deadline !== \"\") {\r\n        const now = new Date()\r\n        deadlineDate = new Date(now)\r\n        \r\n        switch(formData.deadline) {\r\n          case '1_day':\r\n            deadlineDate.setDate(now.getDate() + 1)\r\n            break\r\n          case '3_days':\r\n            deadlineDate.setDate(now.getDate() + 3)\r\n            break\r\n          case '1_week':\r\n            deadlineDate.setDate(now.getDate() + 7)\r\n            break\r\n          case '2_weeks':\r\n            deadlineDate.setDate(now.getDate() + 14)\r\n            break\r\n          case '1_month':\r\n            deadlineDate.setMonth(now.getMonth() + 1)\r\n            break\r\n          default:\r\n            deadlineDate = null\r\n        }\r\n        \r\n        if (deadlineDate) {\r\n          requestFormData.append('deadline', deadlineDate.toISOString())\r\n        }\r\n      }\r\n      \r\n      requestFormData.append('contactPreference', formData.contactPreference)\r\n\r\n      // Afișăm datele trimise pentru debugging\r\n      console.log(\"Sending request data:\")\r\n      console.log(\"title:\", formData.title)\r\n      console.log(\"category:\", formData.category)\r\n      console.log(\"description:\", formData.description)\r\n      console.log(\"budget:\", formData.budget)\r\n      console.log(\"currency:\", formData.currency)\r\n      console.log(\"location:\", formData.location)\r\n      console.log(\"deadline:\", deadlineDate ? deadlineDate.toISOString() : null)\r\n      console.log(\"contactPreference:\", formData.contactPreference)\r\n\r\n      try {\r\n        // Call the API to create the request\r\n        const response = await createRequest(requestFormData, token)\r\n        \r\n        console.log(\"Request created:\", response)\r\n  \r\n        // Redirect to success page\r\n        navigate(\"/success?type=request\")\r\n      } catch (apiError) {\r\n        console.error(\"API error posting request:\", apiError)\r\n        \r\n        // Verificăm dacă eroarea este legată de un câmp specific\r\n        if (apiError.field) {\r\n          setErrors({\r\n            ...errors,\r\n            [apiError.field]: apiError.message,\r\n            submit: `Eroare: Verifică câmpul ${apiError.field}`\r\n          })\r\n          \r\n          // Scroll to the specific field error\r\n          const fieldError = document.querySelector(`[name=\"${apiError.field}\"]`)\r\n          if (fieldError) {\r\n            fieldError.scrollIntoView({ behavior: \"smooth\", block: \"center\" })\r\n          }\r\n        } else {\r\n          setErrors({\r\n            ...errors,\r\n            submit: `Eroare: ${apiError.message || 'A apărut o eroare la crearea cererii. Te rugăm să încerci din nou.'}`\r\n          })\r\n          \r\n          // Scroll to the top to show the error\r\n          window.scrollTo({ top: 0, behavior: 'smooth' })\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error posting request:\", error)\r\n      \r\n      // Afișăm un mesaj de eroare mai specific dacă este disponibil\r\n      if (error.message) {\r\n        setErrors({\r\n          ...errors,\r\n          submit: `Eroare: ${error.message}`,\r\n        })\r\n      } else {\r\n        setErrors({\r\n          ...errors,\r\n          submit: \"A apărut o eroare. Te rugăm să încerci din nou.\",\r\n        })\r\n      }\r\n      \r\n      // Scroll to the top to show the error\r\n      window.scrollTo({ top: 0, behavior: 'smooth' })\r\n    } finally {\r\n      setIsSubmitting(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"post-request-page\">\r\n      <header className=\"page-header\">\r\n        <Link to=\"/requests\" className=\"back-button\">\r\n          <ChevronLeft size={24} />\r\n        </Link>\r\n        <h1>Adaugă o cerere nouă</h1>\r\n      </header>\r\n\r\n      <form className=\"request-form\" onSubmit={handleSubmit}>\r\n        <div className=\"form-section\">\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"title\">Titlul cererii *</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"title\"\r\n              name=\"title\"\r\n              value={formData.title}\r\n              onChange={handleChange}\r\n              placeholder=\"Ex: Caut instalator pentru reparație urgentă\"\r\n              className={errors.title ? \"error\" : \"\"}\r\n            />\r\n            {errors.title && <div className=\"error-message\">{errors.title}</div>}\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"category\">Categoria *</label>\r\n            <select\r\n              id=\"category\"\r\n              name=\"category\"\r\n              value={formData.category}\r\n              onChange={handleChange}\r\n              className={errors.category ? \"error\" : \"\"}\r\n            >\r\n              <option value=\"\">Selectează o categorie</option>\r\n              {CATEGORIES.map((category) => (\r\n                <option key={category} value={category}>\r\n                  {category}\r\n                </option>\r\n              ))}\r\n            </select>\r\n            {errors.category && <div className=\"error-message\">{errors.category}</div>}\r\n          </div>\r\n\r\n          <div className=\"form-row\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"budget\">Buget (RON) *</label>\r\n              <input\r\n                type=\"number\"\r\n                id=\"budget\"\r\n                name=\"budget\"\r\n                value={formData.budget}\r\n                onChange={handleChange}\r\n                placeholder=\"Ex: 200\"\r\n                min=\"0\"\r\n                step=\"1\"\r\n                className={errors.budget ? \"error\" : \"\"}\r\n              />\r\n              {errors.budget && <div className=\"error-message\">{errors.budget}</div>}\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"location\">Locație *</label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"location\"\r\n                name=\"location\"\r\n                value={formData.location}\r\n                onChange={handleChange}\r\n                placeholder=\"Ex: București, Sector 3\"\r\n                className={errors.location ? \"error\" : \"\"}\r\n              />\r\n              {errors.location && <div className=\"error-message\">{errors.location}</div>}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"deadline\">Termen limită</label>\r\n            <select \r\n              name=\"deadline\" \r\n              value={formData.deadline} \r\n              onChange={handleChange}\r\n              className=\"form-select\"\r\n              required\r\n            >\r\n              <option value=\"\">Selectează termenul</option>\r\n              {deadlineOptions.map(option => (\r\n                <option key={option.value} value={option.value}>\r\n                  {option.label}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"description\">Descriere *</label>\r\n            <textarea\r\n              id=\"description\"\r\n              name=\"description\"\r\n              value={formData.description}\r\n              onChange={handleChange}\r\n              placeholder=\"Descrie în detaliu ce servicii cauți, ce așteptări ai, etc.\"\r\n              rows=\"6\"\r\n              className={errors.description ? \"error\" : \"\"}\r\n            ></textarea>\r\n            {errors.description && <span className=\"error-message\">{errors.description}</span>}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"form-section\">\r\n          <div className=\"form-group\">\r\n            <label>Imagini</label>\r\n            <div className=\"image-upload-container\">\r\n              <div className=\"image-upload-area\">\r\n                <input\r\n                  type=\"file\"\r\n                  id=\"images\"\r\n                  name=\"images\"\r\n                  onChange={handleImageChange}\r\n                  accept=\"image/*\"\r\n                  multiple\r\n                  className=\"image-input\"\r\n                />\r\n                <div className=\"upload-placeholder\">\r\n                  <Upload size={32} />\r\n                  <p>Trage imaginile aici sau click pentru a încărca</p>\r\n                  <span>Poți încărca până la 5 imagini (JPG, PNG)</span>\r\n                </div>\r\n              </div>\r\n\r\n              {errors.images && <div className=\"error-message\">{errors.images}</div>}\r\n\r\n              {previewImages.length > 0 && (\r\n                <div className=\"image-previews\">\r\n                  {previewImages.map((image, index) => (\r\n                    <div key={index} className=\"image-preview\">\r\n                      <img src={image.preview || \"/placeholder.svg\"} alt={`Preview ${index + 1}`} />\r\n                      <button type=\"button\" className=\"remove-image\" onClick={() => removeImage(index)}>\r\n                        <X size={16} />\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label>Preferință de contact</label>\r\n            <div className=\"contact-options\">\r\n              <label className=\"contact-option\">\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"contactPreference\"\r\n                  value=\"orice\"\r\n                  checked={formData.contactPreference === \"orice\"}\r\n                  onChange={handleChange}\r\n                />\r\n                <span>Orice metodă</span>\r\n              </label>\r\n              <label className=\"contact-option\">\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"contactPreference\"\r\n                  value=\"mesaj\"\r\n                  checked={formData.contactPreference === \"mesaj\"}\r\n                  onChange={handleChange}\r\n                />\r\n                <span>Doar mesaj</span>\r\n              </label>\r\n              <label className=\"contact-option\">\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"contactPreference\"\r\n                  value=\"telefon\"\r\n                  checked={formData.contactPreference === \"telefon\"}\r\n                  onChange={handleChange}\r\n                />\r\n                <span>Doar telefon</span>\r\n              </label>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"form-notice\">\r\n            <Info size={18} />\r\n            <p>\r\n              Prin postarea acestei cereri, confirmi că respectă\r\n              <Link to=\"/terms\" className=\"notice-link\">\r\n                {\" \"}\r\n                Termenii și Condițiile\r\n              </Link>{\" \"}\r\n              platformei.\r\n            </p>\r\n          </div>\r\n\r\n          {errors.submit && <div className=\"error-message submit-error\">{errors.submit}</div>}\r\n\r\n          <div className=\"form-actions\">\r\n            <Link to=\"/requests\" className=\"cancel-button\">\r\n              Anulează\r\n            </Link>\r\n            <button type=\"submit\" className=\"submit-button\" disabled={isSubmitting}>\r\n              {isSubmitting ? \"Se postează...\" : \"Publică cererea\"}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PostRequestPage\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}