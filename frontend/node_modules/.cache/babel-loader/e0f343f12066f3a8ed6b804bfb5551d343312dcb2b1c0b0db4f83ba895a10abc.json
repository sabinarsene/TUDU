{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\sabin.arsene\\\\Desktop\\\\Tudu-app\\\\TUDU\\\\frontend\\\\src\\\\pages\\\\MessagesPage.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { Link, useParams, useNavigate } from \"react-router-dom\";\nimport { ChevronLeft, Search, Send, Image, MapPin, MoreVertical, ArrowLeft, Phone, Info } from \"lucide-react\";\nimport \"./MessagesPage.css\";\n\n// Sample conversations data\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SAMPLE_CONVERSATIONS = [{\n  id: 1,\n  user: {\n    id: 101,\n    name: \"Alexandru Munteanu\",\n    image: \"/placeholder.svg?height=50&width=50\",\n    isOnline: true,\n    lastSeen: \"Acum\"\n  },\n  lastMessage: {\n    text: \"Bună ziua! Aș dori să știu dacă sunteți disponibil pentru o lucrare de instalații sanitare săptămâna viitoare?\",\n    time: \"10:30\",\n    isRead: false,\n    sender: \"them\"\n  },\n  unreadCount: 1,\n  service: {\n    id: 201,\n    title: \"Reparații instalații sanitare\"\n  }\n}, {\n  id: 2,\n  user: {\n    id: 102,\n    name: \"Maria Dumitrescu\",\n    image: \"/placeholder.svg?height=50&width=50\",\n    isOnline: false,\n    lastSeen: \"1 oră în urmă\"\n  },\n  lastMessage: {\n    text: \"Mulțumesc pentru serviciile oferite! Totul arată perfect.\",\n    time: \"Ieri\",\n    isRead: true,\n    sender: \"them\"\n  },\n  unreadCount: 0,\n  service: {\n    id: 202,\n    title: \"Curățenie apartament\"\n  }\n}, {\n  id: 3,\n  user: {\n    id: 103,\n    name: \"Andrei Popescu\",\n    image: \"/placeholder.svg?height=50&width=50\",\n    isOnline: true,\n    lastSeen: \"Acum\"\n  },\n  lastMessage: {\n    text: \"Da, pot să ajung mâine la ora 14:00. Este ok pentru dvs?\",\n    time: \"Luni\",\n    isRead: true,\n    sender: \"you\"\n  },\n  unreadCount: 0,\n  service: {\n    id: 203,\n    title: \"Montaj mobilă\"\n  }\n}, {\n  id: 4,\n  user: {\n    id: 104,\n    name: \"Cristina Ionescu\",\n    image: \"/placeholder.svg?height=50&width=50\",\n    isOnline: false,\n    lastSeen: \"3 ore în urmă\"\n  },\n  lastMessage: {\n    text: \"Vă mulțumesc pentru ofertă. Voi reveni cu un răspuns în curând.\",\n    time: \"28 Iun\",\n    isRead: true,\n    sender: \"them\"\n  },\n  unreadCount: 0,\n  service: {\n    id: 204,\n    title: \"Lecții de pian\"\n  }\n}, {\n  id: 5,\n  user: {\n    id: 105,\n    name: \"Mihai Vasile\",\n    image: \"/placeholder.svg?height=50&width=50\",\n    isOnline: false,\n    lastSeen: \"Ieri\"\n  },\n  lastMessage: {\n    text: \"Am trimis plata pentru serviciul de transport. Vă rog să confirmați primirea.\",\n    time: \"25 Iun\",\n    isRead: true,\n    sender: \"them\"\n  },\n  unreadCount: 0,\n  service: {\n    id: 205,\n    title: \"Transport marfă\"\n  }\n}];\n\n// Sample messages for a conversation\nconst SAMPLE_MESSAGES = {\n  1: [{\n    id: 1,\n    text: \"Bună ziua! Am văzut anunțul dvs. pentru reparații instalații sanitare.\",\n    time: \"Ieri 10:15\",\n    sender: \"them\",\n    isRead: true\n  }, {\n    id: 2,\n    text: \"Bună ziua! Cu ce vă pot ajuta?\",\n    time: \"Ieri 10:20\",\n    sender: \"you\",\n    isRead: true\n  }, {\n    id: 3,\n    text: \"Am o problemă cu robinetul din bucătărie care curge. Ați putea veni să îl reparați?\",\n    time: \"Ieri 10:22\",\n    sender: \"them\",\n    isRead: true\n  }, {\n    id: 4,\n    text: \"Sigur, pot să vă ajut. Când ați dori să vin?\",\n    time: \"Ieri 10:25\",\n    sender: \"you\",\n    isRead: true\n  }, {\n    id: 5,\n    text: \"Bună ziua! Aș dori să știu dacă sunteți disponibil pentru o lucrare de instalații sanitare săptămâna viitoare?\",\n    time: \"Azi 10:30\",\n    sender: \"them\",\n    isRead: false\n  }],\n  2: [{\n    id: 1,\n    text: \"Bună ziua! Aș dori să rezerv serviciul dvs. de curățenie pentru apartamentul meu.\",\n    time: \"Acum 2 zile\",\n    sender: \"them\",\n    isRead: true\n  }, {\n    id: 2,\n    text: \"Bună ziua! Sigur, vă pot ajuta. Ce suprafață are apartamentul?\",\n    time: \"Acum 2 zile\",\n    sender: \"you\",\n    isRead: true\n  }, {\n    id: 3,\n    text: \"Este un apartament de 2 camere, aproximativ 60mp.\",\n    time: \"Acum 2 zile\",\n    sender: \"them\",\n    isRead: true\n  }, {\n    id: 4,\n    text: \"Perfect. Prețul ar fi 150 RON pentru curățenie completă. Când ați dori să vin?\",\n    time: \"Acum 2 zile\",\n    sender: \"you\",\n    isRead: true\n  }, {\n    id: 5,\n    text: \"Aș dori pentru mâine dacă este posibil.\",\n    time: \"Acum 2 zile\",\n    sender: \"them\",\n    isRead: true\n  }, {\n    id: 6,\n    text: \"Mâine sunt disponibil după ora 14:00. Este ok?\",\n    time: \"Acum 2 zile\",\n    sender: \"you\",\n    isRead: true\n  }, {\n    id: 7,\n    text: \"Da, este perfect. Vă aștept la ora 14:00.\",\n    time: \"Acum 2 zile\",\n    sender: \"them\",\n    isRead: true\n  }, {\n    id: 8,\n    text: \"Mulțumesc pentru serviciile oferite! Totul arată perfect.\",\n    time: \"Ieri\",\n    sender: \"them\",\n    isRead: true\n  }]\n};\nconst MessagesPage = () => {\n  _s();\n  const {\n    conversationId\n  } = useParams();\n  const navigate = useNavigate();\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [newMessage, setNewMessage] = useState(\"\");\n  const [conversations, setConversations] = useState(SAMPLE_CONVERSATIONS);\n\n  // Filter conversations based on search query\n  const filteredConversations = conversations.filter(conversation => conversation.user.name.toLowerCase().includes(searchQuery.toLowerCase()) || conversation.service.title.toLowerCase().includes(searchQuery.toLowerCase()));\n\n  // Get current conversation\n  const currentConversation = conversationId ? conversations.find(c => c.id === Number.parseInt(conversationId)) : null;\n\n  // Get messages for current conversation\n  const messages = conversationId ? SAMPLE_MESSAGES[conversationId] || [] : [];\n  const handleSendMessage = e => {\n    e.preventDefault();\n    if (!newMessage.trim()) return;\n\n    // In a real app, you would send this message to your backend\n    console.log(\"Sending message:\", newMessage);\n\n    // Clear the input\n    setNewMessage(\"\");\n  };\n\n  // Mark conversation as read when opened\n  if (currentConversation && currentConversation.unreadCount > 0) {\n    const updatedConversations = conversations.map(conv => conv.id === currentConversation.id ? {\n      ...conv,\n      unreadCount: 0,\n      lastMessage: {\n        ...conv.lastMessage,\n        isRead: true\n      }\n    } : conv);\n    setConversations(updatedConversations);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"messages-page\",\n    children: !conversationId ?\n    /*#__PURE__*/\n    // Conversations list view\n    _jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"page-header\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          className: \"back-button\",\n          children: /*#__PURE__*/_jsxDEV(ChevronLeft, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Mesaje\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-container\",\n        children: [/*#__PURE__*/_jsxDEV(Search, {\n          size: 20,\n          className: \"search-icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Caut\\u0103 conversa\\u021Bii...\",\n          value: searchQuery,\n          onChange: e => setSearchQuery(e.target.value),\n          className: \"search-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"conversations-list\",\n        children: filteredConversations.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-state\",\n          children: [/*#__PURE__*/_jsxDEV(Send, {\n            size: 48\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Nu ai conversa\\u021Bii\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"C\\xE2nd vei \\xEEncepe o conversa\\u021Bie cu un prestator sau client, va ap\\u0103rea aici.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 15\n        }, this) : filteredConversations.map(conversation => /*#__PURE__*/_jsxDEV(Link, {\n          to: `/messages/${conversation.id}`,\n          className: `conversation-item ${conversation.unreadCount > 0 ? \"unread\" : \"\"}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"conversation-avatar\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: conversation.user.image || \"/placeholder.svg\",\n              alt: conversation.user.name,\n              className: \"user-avatar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 21\n            }, this), conversation.user.isOnline && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"online-indicator\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 52\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"conversation-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"conversation-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"user-name\",\n                children: conversation.user.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"message-time\",\n                children: conversation.lastMessage.time\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"service-title\",\n              children: conversation.service.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"last-message\",\n              children: [conversation.lastMessage.sender === \"you\" && /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Tu: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 69\n              }, this), conversation.lastMessage.text]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 19\n          }, this), conversation.unreadCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"unread-badge\",\n            children: conversation.unreadCount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 52\n          }, this)]\n        }, conversation.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) :\n    /*#__PURE__*/\n    // Conversation detail view\n    _jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"chat-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"back-button\",\n          onClick: () => navigate(\"/messages\"),\n          children: /*#__PURE__*/_jsxDEV(ArrowLeft, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 13\n        }, this), currentConversation && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-user-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: currentConversation.user.image || \"/placeholder.svg\",\n            alt: currentConversation.user.name,\n            className: \"user-avatar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-details\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"user-name\",\n              children: currentConversation.user.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"user-status\",\n              children: currentConversation.user.isOnline ? \"Online\" : currentConversation.user.lastSeen\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"action-button\",\n            title: \"Apel\",\n            children: /*#__PURE__*/_jsxDEV(Phone, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"action-button\",\n            title: \"Informa\\u021Bii\",\n            children: /*#__PURE__*/_jsxDEV(Info, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"action-button\",\n            title: \"Mai multe\",\n            children: /*#__PURE__*/_jsxDEV(MoreVertical, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"service-banner\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Conversa\\u021Bie despre: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: currentConversation === null || currentConversation === void 0 ? void 0 : currentConversation.service.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 35\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"messages-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"messages-list\",\n          children: messages.map(message => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `message-bubble ${message.sender === \"you\" ? \"sent\" : \"received\"}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: message.text\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"message-time\",\n                children: [message.time, message.sender === \"you\" && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `read-status ${message.isRead ? \"read\" : \"\"}`,\n                  children: message.isRead ? \"Citit\" : \"Livrat\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 378,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 375,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 19\n            }, this)\n          }, message.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"message-input-container\",\n          onSubmit: handleSendMessage,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"attachment-button\",\n            title: \"Ata\\u0219eaz\\u0103 imagine\",\n            children: /*#__PURE__*/_jsxDEV(Image, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"attachment-button\",\n            title: \"Trimite loca\\u021Bie\",\n            children: /*#__PURE__*/_jsxDEV(MapPin, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Scrie un mesaj...\",\n            value: newMessage,\n            onChange: e => setNewMessage(e.target.value),\n            className: \"message-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"send-button\",\n            disabled: !newMessage.trim(),\n            children: /*#__PURE__*/_jsxDEV(Send, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 261,\n    columnNumber: 5\n  }, this);\n};\n_s(MessagesPage, \"ZZCOQr17gjcaOcb5umrYbcEBYYE=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = MessagesPage;\nexport default MessagesPage;\nvar _c;\n$RefreshReg$(_c, \"MessagesPage\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useState","Link","useParams","useNavigate","ChevronLeft","Search","Send","Image","MapPin","MoreVertical","ArrowLeft","Phone","Info","jsxDEV","_jsxDEV","Fragment","_Fragment","SAMPLE_CONVERSATIONS","id","user","name","image","isOnline","lastSeen","lastMessage","text","time","isRead","sender","unreadCount","service","title","SAMPLE_MESSAGES","MessagesPage","conversationId","navigate","searchQuery","setSearchQuery","newMessage","setNewMessage","conversations","setConversations","filteredConversations","filter","conversation","toLowerCase","includes","currentConversation","find","c","Number","parseInt","messages","handleSendMessage","e","preventDefault","trim","console","log","updatedConversations","map","conv","className","children","to","size","fileName","lineNumber","columnNumber","type","placeholder","value","onChange","target","length","src","alt","onClick","message","onSubmit","disabled","_c","$RefreshReg$"],"sources":["C:/Users/sabin.arsene/Desktop/Tudu-app/TUDU/frontend/src/pages/MessagesPage.jsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Link, useParams, useNavigate } from \"react-router-dom\"\r\nimport { ChevronLeft, Search, Send, Image, MapPin, MoreVertical, ArrowLeft, Phone, Info } from \"lucide-react\"\r\nimport \"./MessagesPage.css\"\r\n\r\n// Sample conversations data\r\nconst SAMPLE_CONVERSATIONS = [\r\n  {\r\n    id: 1,\r\n    user: {\r\n      id: 101,\r\n      name: \"Alexandru Munteanu\",\r\n      image: \"/placeholder.svg?height=50&width=50\",\r\n      isOnline: true,\r\n      lastSeen: \"Acum\",\r\n    },\r\n    lastMessage: {\r\n      text: \"Bună ziua! Aș dori să știu dacă sunteți disponibil pentru o lucrare de instalații sanitare săptămâna viitoare?\",\r\n      time: \"10:30\",\r\n      isRead: false,\r\n      sender: \"them\",\r\n    },\r\n    unreadCount: 1,\r\n    service: {\r\n      id: 201,\r\n      title: \"Reparații instalații sanitare\",\r\n    },\r\n  },\r\n  {\r\n    id: 2,\r\n    user: {\r\n      id: 102,\r\n      name: \"Maria Dumitrescu\",\r\n      image: \"/placeholder.svg?height=50&width=50\",\r\n      isOnline: false,\r\n      lastSeen: \"1 oră în urmă\",\r\n    },\r\n    lastMessage: {\r\n      text: \"Mulțumesc pentru serviciile oferite! Totul arată perfect.\",\r\n      time: \"Ieri\",\r\n      isRead: true,\r\n      sender: \"them\",\r\n    },\r\n    unreadCount: 0,\r\n    service: {\r\n      id: 202,\r\n      title: \"Curățenie apartament\",\r\n    },\r\n  },\r\n  {\r\n    id: 3,\r\n    user: {\r\n      id: 103,\r\n      name: \"Andrei Popescu\",\r\n      image: \"/placeholder.svg?height=50&width=50\",\r\n      isOnline: true,\r\n      lastSeen: \"Acum\",\r\n    },\r\n    lastMessage: {\r\n      text: \"Da, pot să ajung mâine la ora 14:00. Este ok pentru dvs?\",\r\n      time: \"Luni\",\r\n      isRead: true,\r\n      sender: \"you\",\r\n    },\r\n    unreadCount: 0,\r\n    service: {\r\n      id: 203,\r\n      title: \"Montaj mobilă\",\r\n    },\r\n  },\r\n  {\r\n    id: 4,\r\n    user: {\r\n      id: 104,\r\n      name: \"Cristina Ionescu\",\r\n      image: \"/placeholder.svg?height=50&width=50\",\r\n      isOnline: false,\r\n      lastSeen: \"3 ore în urmă\",\r\n    },\r\n    lastMessage: {\r\n      text: \"Vă mulțumesc pentru ofertă. Voi reveni cu un răspuns în curând.\",\r\n      time: \"28 Iun\",\r\n      isRead: true,\r\n      sender: \"them\",\r\n    },\r\n    unreadCount: 0,\r\n    service: {\r\n      id: 204,\r\n      title: \"Lecții de pian\",\r\n    },\r\n  },\r\n  {\r\n    id: 5,\r\n    user: {\r\n      id: 105,\r\n      name: \"Mihai Vasile\",\r\n      image: \"/placeholder.svg?height=50&width=50\",\r\n      isOnline: false,\r\n      lastSeen: \"Ieri\",\r\n    },\r\n    lastMessage: {\r\n      text: \"Am trimis plata pentru serviciul de transport. Vă rog să confirmați primirea.\",\r\n      time: \"25 Iun\",\r\n      isRead: true,\r\n      sender: \"them\",\r\n    },\r\n    unreadCount: 0,\r\n    service: {\r\n      id: 205,\r\n      title: \"Transport marfă\",\r\n    },\r\n  },\r\n]\r\n\r\n// Sample messages for a conversation\r\nconst SAMPLE_MESSAGES = {\r\n  1: [\r\n    {\r\n      id: 1,\r\n      text: \"Bună ziua! Am văzut anunțul dvs. pentru reparații instalații sanitare.\",\r\n      time: \"Ieri 10:15\",\r\n      sender: \"them\",\r\n      isRead: true,\r\n    },\r\n    {\r\n      id: 2,\r\n      text: \"Bună ziua! Cu ce vă pot ajuta?\",\r\n      time: \"Ieri 10:20\",\r\n      sender: \"you\",\r\n      isRead: true,\r\n    },\r\n    {\r\n      id: 3,\r\n      text: \"Am o problemă cu robinetul din bucătărie care curge. Ați putea veni să îl reparați?\",\r\n      time: \"Ieri 10:22\",\r\n      sender: \"them\",\r\n      isRead: true,\r\n    },\r\n    {\r\n      id: 4,\r\n      text: \"Sigur, pot să vă ajut. Când ați dori să vin?\",\r\n      time: \"Ieri 10:25\",\r\n      sender: \"you\",\r\n      isRead: true,\r\n    },\r\n    {\r\n      id: 5,\r\n      text: \"Bună ziua! Aș dori să știu dacă sunteți disponibil pentru o lucrare de instalații sanitare săptămâna viitoare?\",\r\n      time: \"Azi 10:30\",\r\n      sender: \"them\",\r\n      isRead: false,\r\n    },\r\n  ],\r\n  2: [\r\n    {\r\n      id: 1,\r\n      text: \"Bună ziua! Aș dori să rezerv serviciul dvs. de curățenie pentru apartamentul meu.\",\r\n      time: \"Acum 2 zile\",\r\n      sender: \"them\",\r\n      isRead: true,\r\n    },\r\n    {\r\n      id: 2,\r\n      text: \"Bună ziua! Sigur, vă pot ajuta. Ce suprafață are apartamentul?\",\r\n      time: \"Acum 2 zile\",\r\n      sender: \"you\",\r\n      isRead: true,\r\n    },\r\n    {\r\n      id: 3,\r\n      text: \"Este un apartament de 2 camere, aproximativ 60mp.\",\r\n      time: \"Acum 2 zile\",\r\n      sender: \"them\",\r\n      isRead: true,\r\n    },\r\n    {\r\n      id: 4,\r\n      text: \"Perfect. Prețul ar fi 150 RON pentru curățenie completă. Când ați dori să vin?\",\r\n      time: \"Acum 2 zile\",\r\n      sender: \"you\",\r\n      isRead: true,\r\n    },\r\n    {\r\n      id: 5,\r\n      text: \"Aș dori pentru mâine dacă este posibil.\",\r\n      time: \"Acum 2 zile\",\r\n      sender: \"them\",\r\n      isRead: true,\r\n    },\r\n    {\r\n      id: 6,\r\n      text: \"Mâine sunt disponibil după ora 14:00. Este ok?\",\r\n      time: \"Acum 2 zile\",\r\n      sender: \"you\",\r\n      isRead: true,\r\n    },\r\n    {\r\n      id: 7,\r\n      text: \"Da, este perfect. Vă aștept la ora 14:00.\",\r\n      time: \"Acum 2 zile\",\r\n      sender: \"them\",\r\n      isRead: true,\r\n    },\r\n    {\r\n      id: 8,\r\n      text: \"Mulțumesc pentru serviciile oferite! Totul arată perfect.\",\r\n      time: \"Ieri\",\r\n      sender: \"them\",\r\n      isRead: true,\r\n    },\r\n  ],\r\n}\r\n\r\nconst MessagesPage = () => {\r\n  const { conversationId } = useParams()\r\n  const navigate = useNavigate()\r\n  const [searchQuery, setSearchQuery] = useState(\"\")\r\n  const [newMessage, setNewMessage] = useState(\"\")\r\n  const [conversations, setConversations] = useState(SAMPLE_CONVERSATIONS)\r\n\r\n  // Filter conversations based on search query\r\n  const filteredConversations = conversations.filter(\r\n    (conversation) =>\r\n      conversation.user.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n      conversation.service.title.toLowerCase().includes(searchQuery.toLowerCase()),\r\n  )\r\n\r\n  // Get current conversation\r\n  const currentConversation = conversationId\r\n    ? conversations.find((c) => c.id === Number.parseInt(conversationId))\r\n    : null\r\n\r\n  // Get messages for current conversation\r\n  const messages = conversationId ? SAMPLE_MESSAGES[conversationId] || [] : []\r\n\r\n  const handleSendMessage = (e) => {\r\n    e.preventDefault()\r\n\r\n    if (!newMessage.trim()) return\r\n\r\n    // In a real app, you would send this message to your backend\r\n    console.log(\"Sending message:\", newMessage)\r\n\r\n    // Clear the input\r\n    setNewMessage(\"\")\r\n  }\r\n\r\n  // Mark conversation as read when opened\r\n  if (currentConversation && currentConversation.unreadCount > 0) {\r\n    const updatedConversations = conversations.map((conv) =>\r\n      conv.id === currentConversation.id\r\n        ? { ...conv, unreadCount: 0, lastMessage: { ...conv.lastMessage, isRead: true } }\r\n        : conv,\r\n    )\r\n    setConversations(updatedConversations)\r\n  }\r\n\r\n  return (\r\n    <div className=\"messages-page\">\r\n      {!conversationId ? (\r\n        // Conversations list view\r\n        <>\r\n          <header className=\"page-header\">\r\n            <Link to=\"/\" className=\"back-button\">\r\n              <ChevronLeft size={24} />\r\n            </Link>\r\n            <h1>Mesaje</h1>\r\n          </header>\r\n\r\n          <div className=\"search-container\">\r\n            <Search size={20} className=\"search-icon\" />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Caută conversații...\"\r\n              value={searchQuery}\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\n              className=\"search-input\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"conversations-list\">\r\n            {filteredConversations.length === 0 ? (\r\n              <div className=\"empty-state\">\r\n                <Send size={48} />\r\n                <h3>Nu ai conversații</h3>\r\n                <p>Când vei începe o conversație cu un prestator sau client, va apărea aici.</p>\r\n              </div>\r\n            ) : (\r\n              filteredConversations.map((conversation) => (\r\n                <Link\r\n                  to={`/messages/${conversation.id}`}\r\n                  key={conversation.id}\r\n                  className={`conversation-item ${conversation.unreadCount > 0 ? \"unread\" : \"\"}`}\r\n                >\r\n                  <div className=\"conversation-avatar\">\r\n                    <img\r\n                      src={conversation.user.image || \"/placeholder.svg\"}\r\n                      alt={conversation.user.name}\r\n                      className=\"user-avatar\"\r\n                    />\r\n                    {conversation.user.isOnline && <span className=\"online-indicator\"></span>}\r\n                  </div>\r\n\r\n                  <div className=\"conversation-content\">\r\n                    <div className=\"conversation-header\">\r\n                      <h3 className=\"user-name\">{conversation.user.name}</h3>\r\n                      <span className=\"message-time\">{conversation.lastMessage.time}</span>\r\n                    </div>\r\n\r\n                    <p className=\"service-title\">{conversation.service.title}</p>\r\n\r\n                    <div className=\"last-message\">\r\n                      {conversation.lastMessage.sender === \"you\" && <span>Tu: </span>}\r\n                      {conversation.lastMessage.text}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {conversation.unreadCount > 0 && <span className=\"unread-badge\">{conversation.unreadCount}</span>}\r\n                </Link>\r\n              ))\r\n            )}\r\n          </div>\r\n        </>\r\n      ) : (\r\n        // Conversation detail view\r\n        <>\r\n          <header className=\"chat-header\">\r\n            <button className=\"back-button\" onClick={() => navigate(\"/messages\")}>\r\n              <ArrowLeft size={24} />\r\n            </button>\r\n\r\n            {currentConversation && (\r\n              <div className=\"chat-user-info\">\r\n                <img\r\n                  src={currentConversation.user.image || \"/placeholder.svg\"}\r\n                  alt={currentConversation.user.name}\r\n                  className=\"user-avatar\"\r\n                />\r\n                <div className=\"user-details\">\r\n                  <h2 className=\"user-name\">{currentConversation.user.name}</h2>\r\n                  <p className=\"user-status\">\r\n                    {currentConversation.user.isOnline ? \"Online\" : currentConversation.user.lastSeen}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"chat-actions\">\r\n              <button className=\"action-button\" title=\"Apel\">\r\n                <Phone size={20} />\r\n              </button>\r\n              <button className=\"action-button\" title=\"Informații\">\r\n                <Info size={20} />\r\n              </button>\r\n              <button className=\"action-button\" title=\"Mai multe\">\r\n                <MoreVertical size={20} />\r\n              </button>\r\n            </div>\r\n          </header>\r\n\r\n          <div className=\"service-banner\">\r\n            <p>\r\n              Conversație despre: <strong>{currentConversation?.service.title}</strong>\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"messages-container\">\r\n            <div className=\"messages-list\">\r\n              {messages.map((message) => (\r\n                <div key={message.id} className={`message-bubble ${message.sender === \"you\" ? \"sent\" : \"received\"}`}>\r\n                  <div className=\"message-content\">\r\n                    <p>{message.text}</p>\r\n                    <span className=\"message-time\">\r\n                      {message.time}\r\n                      {message.sender === \"you\" && (\r\n                        <span className={`read-status ${message.isRead ? \"read\" : \"\"}`}>\r\n                          {message.isRead ? \"Citit\" : \"Livrat\"}\r\n                        </span>\r\n                      )}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            <form className=\"message-input-container\" onSubmit={handleSendMessage}>\r\n              <button type=\"button\" className=\"attachment-button\" title=\"Atașează imagine\">\r\n                <Image size={20} />\r\n              </button>\r\n              <button type=\"button\" className=\"attachment-button\" title=\"Trimite locație\">\r\n                <MapPin size={20} />\r\n              </button>\r\n\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Scrie un mesaj...\"\r\n                value={newMessage}\r\n                onChange={(e) => setNewMessage(e.target.value)}\r\n                className=\"message-input\"\r\n              />\r\n\r\n              <button type=\"submit\" className=\"send-button\" disabled={!newMessage.trim()}>\r\n                <Send size={20} />\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MessagesPage\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}