{"ast":null,"code":"import { appearAnimationStore } from './store.mjs';\nimport { appearStoreId } from './store-id.mjs';\nfunction handoffOptimizedAppearAnimation(elementId, valueName, frame) {\n  var _a;\n  const storeId = appearStoreId(elementId, valueName);\n  const optimisedAnimation = appearAnimationStore.get(storeId);\n  if (!optimisedAnimation) {\n    return null;\n  }\n  const {\n    animation,\n    startTime\n  } = optimisedAnimation;\n  function cancelAnimation() {\n    var _a;\n    (_a = window.MotionCancelOptimisedAnimation) === null || _a === void 0 ? void 0 : _a.call(window, elementId, valueName, frame);\n  }\n  /**\r\n   * We can cancel the animation once it's finished now that we've synced\r\n   * with Motion.\r\n   *\r\n   * Prefer onfinish over finished as onfinish is backwards compatible with\r\n   * older browsers.\r\n   */\n  animation.onfinish = cancelAnimation;\n  if (startTime === null || ((_a = window.MotionHandoffIsComplete) === null || _a === void 0 ? void 0 : _a.call(window, elementId))) {\n    /**\r\n     * If the startTime is null, this animation is the Paint Ready detection animation\r\n     * and we can cancel it immediately without handoff.\r\n     *\r\n     * Or if we've already handed off the animation then we're now interrupting it.\r\n     * In which case we need to cancel it.\r\n     */\n    cancelAnimation();\n    return null;\n  } else {\n    return startTime;\n  }\n}\nexport { handoffOptimizedAppearAnimation };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}