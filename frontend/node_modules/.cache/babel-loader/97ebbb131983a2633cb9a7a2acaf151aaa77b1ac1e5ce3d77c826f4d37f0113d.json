{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\sabin.arsene\\\\Desktop\\\\Tudu-app\\\\TUDU\\\\frontend\\\\src\\\\pages\\\\MessagesPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link, useParams, useNavigate } from 'react-router-dom';\nimport { ChevronLeft, Search, Send, Image, MapPin, MoreVertical, ArrowLeft, Phone, Info } from 'lucide-react';\nimport { Box, VStack, HStack, Input, Text, Avatar, IconButton, InputGroup, InputLeftElement, Badge, useToast } from '@chakra-ui/react';\nimport axios from 'axios';\nimport { API_URL } from '../config/api';\nimport Chat from '../components/Chat/Chat';\nimport \"./MessagesPage.css\";\n\n// Sample conversations data\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SAMPLE_CONVERSATIONS = [{\n  id: 1,\n  user: {\n    id: 101,\n    name: \"Alexandru Munteanu\",\n    image: \"/placeholder.svg?height=50&width=50\",\n    isOnline: true,\n    lastSeen: \"Acum\"\n  },\n  lastMessage: {\n    text: \"Bună ziua! Aș dori să știu dacă sunteți disponibil pentru o lucrare de instalații sanitare săptămâna viitoare?\",\n    time: \"10:30\",\n    isRead: false,\n    sender: \"them\"\n  },\n  unreadCount: 1,\n  service: {\n    id: 201,\n    title: \"Reparații instalații sanitare\"\n  }\n}, {\n  id: 2,\n  user: {\n    id: 102,\n    name: \"Maria Dumitrescu\",\n    image: \"/placeholder.svg?height=50&width=50\",\n    isOnline: false,\n    lastSeen: \"1 oră în urmă\"\n  },\n  lastMessage: {\n    text: \"Mulțumesc pentru serviciile oferite! Totul arată perfect.\",\n    time: \"Ieri\",\n    isRead: true,\n    sender: \"them\"\n  },\n  unreadCount: 0,\n  service: {\n    id: 202,\n    title: \"Curățenie apartament\"\n  }\n}, {\n  id: 3,\n  user: {\n    id: 103,\n    name: \"Andrei Popescu\",\n    image: \"/placeholder.svg?height=50&width=50\",\n    isOnline: true,\n    lastSeen: \"Acum\"\n  },\n  lastMessage: {\n    text: \"Da, pot să ajung mâine la ora 14:00. Este ok pentru dvs?\",\n    time: \"Luni\",\n    isRead: true,\n    sender: \"you\"\n  },\n  unreadCount: 0,\n  service: {\n    id: 203,\n    title: \"Montaj mobilă\"\n  }\n}, {\n  id: 4,\n  user: {\n    id: 104,\n    name: \"Cristina Ionescu\",\n    image: \"/placeholder.svg?height=50&width=50\",\n    isOnline: false,\n    lastSeen: \"3 ore în urmă\"\n  },\n  lastMessage: {\n    text: \"Vă mulțumesc pentru ofertă. Voi reveni cu un răspuns în curând.\",\n    time: \"28 Iun\",\n    isRead: true,\n    sender: \"them\"\n  },\n  unreadCount: 0,\n  service: {\n    id: 204,\n    title: \"Lecții de pian\"\n  }\n}, {\n  id: 5,\n  user: {\n    id: 105,\n    name: \"Mihai Vasile\",\n    image: \"/placeholder.svg?height=50&width=50\",\n    isOnline: false,\n    lastSeen: \"Ieri\"\n  },\n  lastMessage: {\n    text: \"Am trimis plata pentru serviciul de transport. Vă rog să confirmați primirea.\",\n    time: \"25 Iun\",\n    isRead: true,\n    sender: \"them\"\n  },\n  unreadCount: 0,\n  service: {\n    id: 205,\n    title: \"Transport marfă\"\n  }\n}];\n\n// Sample messages for a conversation\nconst SAMPLE_MESSAGES = {\n  1: [{\n    id: 1,\n    text: \"Bună ziua! Am văzut anunțul dvs. pentru reparații instalații sanitare.\",\n    time: \"Ieri 10:15\",\n    sender: \"them\",\n    isRead: true\n  }, {\n    id: 2,\n    text: \"Bună ziua! Cu ce vă pot ajuta?\",\n    time: \"Ieri 10:20\",\n    sender: \"you\",\n    isRead: true\n  }, {\n    id: 3,\n    text: \"Am o problemă cu robinetul din bucătărie care curge. Ați putea veni să îl reparați?\",\n    time: \"Ieri 10:22\",\n    sender: \"them\",\n    isRead: true\n  }, {\n    id: 4,\n    text: \"Sigur, pot să vă ajut. Când ați dori să vin?\",\n    time: \"Ieri 10:25\",\n    sender: \"you\",\n    isRead: true\n  }, {\n    id: 5,\n    text: \"Bună ziua! Aș dori să știu dacă sunteți disponibil pentru o lucrare de instalații sanitare săptămâna viitoare?\",\n    time: \"Azi 10:30\",\n    sender: \"them\",\n    isRead: false\n  }],\n  2: [{\n    id: 1,\n    text: \"Bună ziua! Aș dori să rezerv serviciul dvs. de curățenie pentru apartamentul meu.\",\n    time: \"Acum 2 zile\",\n    sender: \"them\",\n    isRead: true\n  }, {\n    id: 2,\n    text: \"Bună ziua! Sigur, vă pot ajuta. Ce suprafață are apartamentul?\",\n    time: \"Acum 2 zile\",\n    sender: \"you\",\n    isRead: true\n  }, {\n    id: 3,\n    text: \"Este un apartament de 2 camere, aproximativ 60mp.\",\n    time: \"Acum 2 zile\",\n    sender: \"them\",\n    isRead: true\n  }, {\n    id: 4,\n    text: \"Perfect. Prețul ar fi 150 RON pentru curățenie completă. Când ați dori să vin?\",\n    time: \"Acum 2 zile\",\n    sender: \"you\",\n    isRead: true\n  }, {\n    id: 5,\n    text: \"Aș dori pentru mâine dacă este posibil.\",\n    time: \"Acum 2 zile\",\n    sender: \"them\",\n    isRead: true\n  }, {\n    id: 6,\n    text: \"Mâine sunt disponibil după ora 14:00. Este ok?\",\n    time: \"Acum 2 zile\",\n    sender: \"you\",\n    isRead: true\n  }, {\n    id: 7,\n    text: \"Da, este perfect. Vă aștept la ora 14:00.\",\n    time: \"Acum 2 zile\",\n    sender: \"them\",\n    isRead: true\n  }, {\n    id: 8,\n    text: \"Mulțumesc pentru serviciile oferite! Totul arată perfect.\",\n    time: \"Ieri\",\n    sender: \"them\",\n    isRead: true\n  }]\n};\nconst MessagesPage = () => {\n  _s();\n  var _conversations$find;\n  const {\n    userId\n  } = useParams();\n  const navigate = useNavigate();\n  const [conversations, setConversations] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [searchQuery, setSearchQuery] = useState('');\n  const toast = useToast();\n\n  // Load conversations\n  useEffect(() => {\n    const loadConversations = async () => {\n      try {\n        const response = await axios.get(`${API_URL}/messages/conversations`);\n        setConversations(response.data);\n        setLoading(false);\n      } catch (error) {\n        var _error$response, _error$response$data;\n        console.error('Error loading conversations:', error);\n        toast({\n          title: 'Error loading conversations',\n          description: ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Something went wrong',\n          status: 'error',\n          duration: 3000,\n          isClosable: true\n        });\n        setLoading(false);\n      }\n    };\n    loadConversations();\n  }, [toast]);\n\n  // Filter conversations based on search\n  const filteredConversations = conversations.filter(conv => conv.user.name.toLowerCase().includes(searchQuery.toLowerCase()));\n  return /*#__PURE__*/_jsxDEV(Box, {\n    h: \"100vh\",\n    bg: \"gray.50\",\n    children: userId ?\n    /*#__PURE__*/\n    // Chat view\n    _jsxDEV(Box, {\n      h: \"100%\",\n      children: [/*#__PURE__*/_jsxDEV(HStack, {\n        p: 4,\n        bg: \"white\",\n        borderBottomWidth: \"1px\",\n        borderColor: \"gray.200\",\n        position: \"sticky\",\n        top: 0,\n        zIndex: 1,\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          icon: /*#__PURE__*/_jsxDEV(ArrowLeft, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 21\n          }, this),\n          variant: \"ghost\",\n          onClick: () => navigate('/messages')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Text, {\n          fontWeight: \"bold\",\n          children: ((_conversations$find = conversations.find(c => c.user.id === parseInt(userId))) === null || _conversations$find === void 0 ? void 0 : _conversations$find.user.name) || 'Chat'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Chat, {\n        receiverId: userId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 9\n    }, this) :\n    /*#__PURE__*/\n    // Conversations list view\n    _jsxDEV(Box, {\n      h: \"100%\",\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        p: 4,\n        bg: \"white\",\n        borderBottomWidth: \"1px\",\n        borderColor: \"gray.200\",\n        position: \"sticky\",\n        top: 0,\n        zIndex: 1,\n        children: [/*#__PURE__*/_jsxDEV(Text, {\n          fontSize: \"xl\",\n          fontWeight: \"bold\",\n          mb: 4,\n          children: \"Messages\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n          children: [/*#__PURE__*/_jsxDEV(InputLeftElement, {\n            pointerEvents: \"none\",\n            children: /*#__PURE__*/_jsxDEV(Search, {\n              color: \"gray.300\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            placeholder: \"Search conversations...\",\n            value: searchQuery,\n            onChange: e => setSearchQuery(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(VStack, {\n        spacing: 0,\n        align: \"stretch\",\n        pb: 4,\n        children: loading ? /*#__PURE__*/_jsxDEV(Box, {\n          p: 4,\n          textAlign: \"center\",\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 15\n        }, this) : filteredConversations.length === 0 ? /*#__PURE__*/_jsxDEV(Box, {\n          p: 4,\n          textAlign: \"center\",\n          color: \"gray.500\",\n          children: \"No conversations found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 15\n        }, this) : filteredConversations.map(conv => /*#__PURE__*/_jsxDEV(Box, {\n          p: 4,\n          bg: \"white\",\n          borderBottomWidth: \"1px\",\n          borderColor: \"gray.100\",\n          cursor: \"pointer\",\n          onClick: () => navigate(`/messages/${conv.user.id}`),\n          _hover: {\n            bg: 'gray.50'\n          },\n          children: /*#__PURE__*/_jsxDEV(HStack, {\n            spacing: 4,\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              position: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(Avatar, {\n                size: \"md\",\n                name: conv.user.name,\n                src: conv.user.image\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 23\n              }, this), conv.user.isOnline && /*#__PURE__*/_jsxDEV(Badge, {\n                position: \"absolute\",\n                bottom: \"0\",\n                right: \"0\",\n                bg: \"green.400\",\n                borderRadius: \"full\",\n                transform: \"translate(20%, 20%)\",\n                boxSize: \"3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              flex: \"1\",\n              children: [/*#__PURE__*/_jsxDEV(HStack, {\n                justify: \"space-between\",\n                mb: 1,\n                children: [/*#__PURE__*/_jsxDEV(Text, {\n                  fontWeight: \"bold\",\n                  children: conv.user.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Text, {\n                  fontSize: \"sm\",\n                  color: \"gray.500\",\n                  children: new Date(conv.lastMessage.time).toLocaleTimeString([], {\n                    hour: '2-digit',\n                    minute: '2-digit'\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 356,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(HStack, {\n                justify: \"space-between\",\n                children: [/*#__PURE__*/_jsxDEV(Text, {\n                  fontSize: \"sm\",\n                  color: \"gray.600\",\n                  noOfLines: 1,\n                  flex: \"1\",\n                  children: [conv.lastMessage.sender === 'you' && 'You: ', conv.lastMessage.text]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 365,\n                  columnNumber: 25\n                }, this), conv.unreadCount > 0 && /*#__PURE__*/_jsxDEV(Badge, {\n                  colorScheme: \"blue\",\n                  borderRadius: \"full\",\n                  px: 2,\n                  children: conv.unreadCount\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 376,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 19\n          }, this)\n        }, conv.user.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 257,\n    columnNumber: 5\n  }, this);\n};\n_s(MessagesPage, \"82VaRnD+z1zlIPOltEl2V/TJpZ4=\", false, function () {\n  return [useParams, useNavigate, useToast];\n});\n_c = MessagesPage;\nexport default MessagesPage;\nvar _c;\n$RefreshReg$(_c, \"MessagesPage\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","React","useState","useEffect","Link","useParams","useNavigate","ChevronLeft","Search","Send","Image","MapPin","MoreVertical","ArrowLeft","Phone","Info","Box","VStack","HStack","Input","Text","Avatar","IconButton","InputGroup","InputLeftElement","Badge","useToast","axios","API_URL","Chat","jsxDEV","_jsxDEV","SAMPLE_CONVERSATIONS","id","user","name","image","isOnline","lastSeen","lastMessage","text","time","isRead","sender","unreadCount","service","title","SAMPLE_MESSAGES","MessagesPage","_conversations$find","userId","navigate","conversations","setConversations","loading","setLoading","searchQuery","setSearchQuery","toast","loadConversations","response","get","data","error","_error$response","_error$response$data","console","description","status","duration","isClosable","filteredConversations","filter","conv","toLowerCase","includes","h","bg","children","p","borderBottomWidth","borderColor","position","top","zIndex","icon","fileName","lineNumber","columnNumber","variant","onClick","fontWeight","find","c","parseInt","receiverId","fontSize","mb","pointerEvents","color","placeholder","value","onChange","e","target","spacing","align","pb","textAlign","length","map","cursor","_hover","size","src","bottom","right","borderRadius","transform","boxSize","flex","justify","Date","toLocaleTimeString","hour","minute","noOfLines","colorScheme","px","_c","$RefreshReg$"],"sources":["C:/Users/sabin.arsene/Desktop/Tudu-app/TUDU/frontend/src/pages/MessagesPage.jsx"],"sourcesContent":["\"use client\"\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Link, useParams, useNavigate } from 'react-router-dom';\r\nimport { ChevronLeft, Search, Send, Image, MapPin, MoreVertical, ArrowLeft, Phone, Info } from 'lucide-react';\r\nimport { Box, VStack, HStack, Input, Text, Avatar, IconButton, InputGroup, InputLeftElement, Badge, useToast } from '@chakra-ui/react';\r\nimport axios from 'axios';\r\nimport { API_URL } from '../config/api';\r\nimport Chat from '../components/Chat/Chat';\r\nimport \"./MessagesPage.css\";\r\n\r\n// Sample conversations data\r\nconst SAMPLE_CONVERSATIONS = [\r\n  {\r\n    id: 1,\r\n    user: {\r\n      id: 101,\r\n      name: \"Alexandru Munteanu\",\r\n      image: \"/placeholder.svg?height=50&width=50\",\r\n      isOnline: true,\r\n      lastSeen: \"Acum\",\r\n    },\r\n    lastMessage: {\r\n      text: \"Bună ziua! Aș dori să știu dacă sunteți disponibil pentru o lucrare de instalații sanitare săptămâna viitoare?\",\r\n      time: \"10:30\",\r\n      isRead: false,\r\n      sender: \"them\",\r\n    },\r\n    unreadCount: 1,\r\n    service: {\r\n      id: 201,\r\n      title: \"Reparații instalații sanitare\",\r\n    },\r\n  },\r\n  {\r\n    id: 2,\r\n    user: {\r\n      id: 102,\r\n      name: \"Maria Dumitrescu\",\r\n      image: \"/placeholder.svg?height=50&width=50\",\r\n      isOnline: false,\r\n      lastSeen: \"1 oră în urmă\",\r\n    },\r\n    lastMessage: {\r\n      text: \"Mulțumesc pentru serviciile oferite! Totul arată perfect.\",\r\n      time: \"Ieri\",\r\n      isRead: true,\r\n      sender: \"them\",\r\n    },\r\n    unreadCount: 0,\r\n    service: {\r\n      id: 202,\r\n      title: \"Curățenie apartament\",\r\n    },\r\n  },\r\n  {\r\n    id: 3,\r\n    user: {\r\n      id: 103,\r\n      name: \"Andrei Popescu\",\r\n      image: \"/placeholder.svg?height=50&width=50\",\r\n      isOnline: true,\r\n      lastSeen: \"Acum\",\r\n    },\r\n    lastMessage: {\r\n      text: \"Da, pot să ajung mâine la ora 14:00. Este ok pentru dvs?\",\r\n      time: \"Luni\",\r\n      isRead: true,\r\n      sender: \"you\",\r\n    },\r\n    unreadCount: 0,\r\n    service: {\r\n      id: 203,\r\n      title: \"Montaj mobilă\",\r\n    },\r\n  },\r\n  {\r\n    id: 4,\r\n    user: {\r\n      id: 104,\r\n      name: \"Cristina Ionescu\",\r\n      image: \"/placeholder.svg?height=50&width=50\",\r\n      isOnline: false,\r\n      lastSeen: \"3 ore în urmă\",\r\n    },\r\n    lastMessage: {\r\n      text: \"Vă mulțumesc pentru ofertă. Voi reveni cu un răspuns în curând.\",\r\n      time: \"28 Iun\",\r\n      isRead: true,\r\n      sender: \"them\",\r\n    },\r\n    unreadCount: 0,\r\n    service: {\r\n      id: 204,\r\n      title: \"Lecții de pian\",\r\n    },\r\n  },\r\n  {\r\n    id: 5,\r\n    user: {\r\n      id: 105,\r\n      name: \"Mihai Vasile\",\r\n      image: \"/placeholder.svg?height=50&width=50\",\r\n      isOnline: false,\r\n      lastSeen: \"Ieri\",\r\n    },\r\n    lastMessage: {\r\n      text: \"Am trimis plata pentru serviciul de transport. Vă rog să confirmați primirea.\",\r\n      time: \"25 Iun\",\r\n      isRead: true,\r\n      sender: \"them\",\r\n    },\r\n    unreadCount: 0,\r\n    service: {\r\n      id: 205,\r\n      title: \"Transport marfă\",\r\n    },\r\n  },\r\n];\r\n\r\n// Sample messages for a conversation\r\nconst SAMPLE_MESSAGES = {\r\n  1: [\r\n    {\r\n      id: 1,\r\n      text: \"Bună ziua! Am văzut anunțul dvs. pentru reparații instalații sanitare.\",\r\n      time: \"Ieri 10:15\",\r\n      sender: \"them\",\r\n      isRead: true,\r\n    },\r\n    {\r\n      id: 2,\r\n      text: \"Bună ziua! Cu ce vă pot ajuta?\",\r\n      time: \"Ieri 10:20\",\r\n      sender: \"you\",\r\n      isRead: true,\r\n    },\r\n    {\r\n      id: 3,\r\n      text: \"Am o problemă cu robinetul din bucătărie care curge. Ați putea veni să îl reparați?\",\r\n      time: \"Ieri 10:22\",\r\n      sender: \"them\",\r\n      isRead: true,\r\n    },\r\n    {\r\n      id: 4,\r\n      text: \"Sigur, pot să vă ajut. Când ați dori să vin?\",\r\n      time: \"Ieri 10:25\",\r\n      sender: \"you\",\r\n      isRead: true,\r\n    },\r\n    {\r\n      id: 5,\r\n      text: \"Bună ziua! Aș dori să știu dacă sunteți disponibil pentru o lucrare de instalații sanitare săptămâna viitoare?\",\r\n      time: \"Azi 10:30\",\r\n      sender: \"them\",\r\n      isRead: false,\r\n    },\r\n  ],\r\n  2: [\r\n    {\r\n      id: 1,\r\n      text: \"Bună ziua! Aș dori să rezerv serviciul dvs. de curățenie pentru apartamentul meu.\",\r\n      time: \"Acum 2 zile\",\r\n      sender: \"them\",\r\n      isRead: true,\r\n    },\r\n    {\r\n      id: 2,\r\n      text: \"Bună ziua! Sigur, vă pot ajuta. Ce suprafață are apartamentul?\",\r\n      time: \"Acum 2 zile\",\r\n      sender: \"you\",\r\n      isRead: true,\r\n    },\r\n    {\r\n      id: 3,\r\n      text: \"Este un apartament de 2 camere, aproximativ 60mp.\",\r\n      time: \"Acum 2 zile\",\r\n      sender: \"them\",\r\n      isRead: true,\r\n    },\r\n    {\r\n      id: 4,\r\n      text: \"Perfect. Prețul ar fi 150 RON pentru curățenie completă. Când ați dori să vin?\",\r\n      time: \"Acum 2 zile\",\r\n      sender: \"you\",\r\n      isRead: true,\r\n    },\r\n    {\r\n      id: 5,\r\n      text: \"Aș dori pentru mâine dacă este posibil.\",\r\n      time: \"Acum 2 zile\",\r\n      sender: \"them\",\r\n      isRead: true,\r\n    },\r\n    {\r\n      id: 6,\r\n      text: \"Mâine sunt disponibil după ora 14:00. Este ok?\",\r\n      time: \"Acum 2 zile\",\r\n      sender: \"you\",\r\n      isRead: true,\r\n    },\r\n    {\r\n      id: 7,\r\n      text: \"Da, este perfect. Vă aștept la ora 14:00.\",\r\n      time: \"Acum 2 zile\",\r\n      sender: \"them\",\r\n      isRead: true,\r\n    },\r\n    {\r\n      id: 8,\r\n      text: \"Mulțumesc pentru serviciile oferite! Totul arată perfect.\",\r\n      time: \"Ieri\",\r\n      sender: \"them\",\r\n      isRead: true,\r\n    },\r\n  ],\r\n};\r\n\r\nconst MessagesPage = () => {\r\n  const { userId } = useParams();\r\n  const navigate = useNavigate();\r\n  const [conversations, setConversations] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const toast = useToast();\r\n\r\n  // Load conversations\r\n  useEffect(() => {\r\n    const loadConversations = async () => {\r\n      try {\r\n        const response = await axios.get(`${API_URL}/messages/conversations`);\r\n        setConversations(response.data);\r\n        setLoading(false);\r\n      } catch (error) {\r\n        console.error('Error loading conversations:', error);\r\n        toast({\r\n          title: 'Error loading conversations',\r\n          description: error.response?.data?.error || 'Something went wrong',\r\n          status: 'error',\r\n          duration: 3000,\r\n          isClosable: true\r\n        });\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    loadConversations();\r\n  }, [toast]);\r\n\r\n  // Filter conversations based on search\r\n  const filteredConversations = conversations.filter(conv =>\r\n    conv.user.name.toLowerCase().includes(searchQuery.toLowerCase())\r\n  );\r\n\r\n  return (\r\n    <Box h=\"100vh\" bg=\"gray.50\">\r\n      {userId ? (\r\n        // Chat view\r\n        <Box h=\"100%\">\r\n          <HStack\r\n            p={4}\r\n            bg=\"white\"\r\n            borderBottomWidth=\"1px\"\r\n            borderColor=\"gray.200\"\r\n            position=\"sticky\"\r\n            top={0}\r\n            zIndex={1}\r\n          >\r\n            <IconButton\r\n              icon={<ArrowLeft />}\r\n              variant=\"ghost\"\r\n              onClick={() => navigate('/messages')}\r\n            />\r\n            <Text fontWeight=\"bold\">\r\n              {conversations.find(c => c.user.id === parseInt(userId))?.user.name || 'Chat'}\r\n            </Text>\r\n          </HStack>\r\n\r\n          <Chat receiverId={userId} />\r\n        </Box>\r\n      ) : (\r\n        // Conversations list view\r\n        <Box h=\"100%\">\r\n          <Box\r\n            p={4}\r\n            bg=\"white\"\r\n            borderBottomWidth=\"1px\"\r\n            borderColor=\"gray.200\"\r\n            position=\"sticky\"\r\n            top={0}\r\n            zIndex={1}\r\n          >\r\n            <Text fontSize=\"xl\" fontWeight=\"bold\" mb={4}>\r\n              Messages\r\n            </Text>\r\n\r\n            <InputGroup>\r\n              <InputLeftElement pointerEvents=\"none\">\r\n                <Search color=\"gray.300\" />\r\n              </InputLeftElement>\r\n              <Input\r\n                placeholder=\"Search conversations...\"\r\n                value={searchQuery}\r\n                onChange={(e) => setSearchQuery(e.target.value)}\r\n              />\r\n            </InputGroup>\r\n          </Box>\r\n\r\n          <VStack spacing={0} align=\"stretch\" pb={4}>\r\n            {loading ? (\r\n              <Box p={4} textAlign=\"center\">\r\n                Loading...\r\n              </Box>\r\n            ) : filteredConversations.length === 0 ? (\r\n              <Box p={4} textAlign=\"center\" color=\"gray.500\">\r\n                No conversations found\r\n              </Box>\r\n            ) : (\r\n              filteredConversations.map((conv) => (\r\n                <Box\r\n                  key={conv.user.id}\r\n                  p={4}\r\n                  bg=\"white\"\r\n                  borderBottomWidth=\"1px\"\r\n                  borderColor=\"gray.100\"\r\n                  cursor=\"pointer\"\r\n                  onClick={() => navigate(`/messages/${conv.user.id}`)}\r\n                  _hover={{ bg: 'gray.50' }}\r\n                >\r\n                  <HStack spacing={4}>\r\n                    <Box position=\"relative\">\r\n                      <Avatar\r\n                        size=\"md\"\r\n                        name={conv.user.name}\r\n                        src={conv.user.image}\r\n                      />\r\n                      {conv.user.isOnline && (\r\n                        <Badge\r\n                          position=\"absolute\"\r\n                          bottom=\"0\"\r\n                          right=\"0\"\r\n                          bg=\"green.400\"\r\n                          borderRadius=\"full\"\r\n                          transform=\"translate(20%, 20%)\"\r\n                          boxSize=\"3\"\r\n                        />\r\n                      )}\r\n                    </Box>\r\n\r\n                    <Box flex=\"1\">\r\n                      <HStack justify=\"space-between\" mb={1}>\r\n                        <Text fontWeight=\"bold\">\r\n                          {conv.user.name}\r\n                        </Text>\r\n                        <Text fontSize=\"sm\" color=\"gray.500\">\r\n                          {new Date(conv.lastMessage.time).toLocaleTimeString([], {\r\n                            hour: '2-digit',\r\n                            minute: '2-digit'\r\n                          })}\r\n                        </Text>\r\n                      </HStack>\r\n\r\n                      <HStack justify=\"space-between\">\r\n                        <Text\r\n                          fontSize=\"sm\"\r\n                          color=\"gray.600\"\r\n                          noOfLines={1}\r\n                          flex=\"1\"\r\n                        >\r\n                          {conv.lastMessage.sender === 'you' && 'You: '}\r\n                          {conv.lastMessage.text}\r\n                        </Text>\r\n\r\n                        {conv.unreadCount > 0 && (\r\n                          <Badge\r\n                            colorScheme=\"blue\"\r\n                            borderRadius=\"full\"\r\n                            px={2}\r\n                          >\r\n                            {conv.unreadCount}\r\n                          </Badge>\r\n                        )}\r\n                      </HStack>\r\n                    </Box>\r\n                  </HStack>\r\n                </Box>\r\n              ))\r\n            )}\r\n          </VStack>\r\n        </Box>\r\n      )}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default MessagesPage;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}