{"ast":null,"code":"import { useCallback } from 'react';\nimport { isRefObject } from '../../utils/is-ref-object.mjs';\n\n/**\r\n * Creates a ref function that, when called, hydrates the provided\r\n * external ref and VisualElement.\r\n */\nfunction useMotionRef(visualState, visualElement, externalRef) {\n  return useCallback(instance => {\n    if (instance) {\n      visualState.onMount && visualState.onMount(instance);\n    }\n    if (visualElement) {\n      if (instance) {\n        visualElement.mount(instance);\n      } else {\n        visualElement.unmount();\n      }\n    }\n    if (externalRef) {\n      if (typeof externalRef === \"function\") {\n        externalRef(instance);\n      } else if (isRefObject(externalRef)) {\n        externalRef.current = instance;\n      }\n    }\n  },\n  /**\r\n   * Only pass a new ref callback to React if we've received a visual element\r\n   * factory. Otherwise we'll be mounting/remounting every time externalRef\r\n   * or other dependencies change.\r\n   */\n  [visualElement]);\n}\nexport { useMotionRef };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}